<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VLC: include/vlc_picture_pool.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VLC<span id="projectnumber">&#160;3.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">vlc_picture_pool.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file defines picture pool structures and functions in vlc.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for vlc_picture_pool.h:</div>
<div class="dyncontent">
<div class="center"><img src="vlc__picture__pool_8h__incl.png" border="0" usemap="#ainclude_2vlc__picture__pool_8h" alt=""/></div>
<map name="ainclude_2vlc__picture__pool_8h" id="ainclude_2vlc__picture__pool_8h">
<area shape="rect" title="This file defines picture pool structures and functions in vlc." alt="" coords="834,5,969,54"/>
<area shape="rect" href="vlc__common_8h.html" title="This file is a collection of common definitions and types." alt="" coords="948,335,1057,365"/>
<area shape="poly" title=" " alt="" coords="895,55,886,91,884,111,887,131,905,187,931,239,984,321,980,324,927,242,900,189,881,132,879,111,880,90,889,54"/>
<area shape="rect" href="vlc__picture_8h.html" title="This file defines picture structures and functions in vlc." alt="" coords="896,102,994,132"/>
<area shape="poly" title=" " alt="" coords="916,53,933,87,929,89,911,56"/>
<area shape="rect" href="vlc__config_8h.html" title="This file defines of values used in interface, vout, aout and vlc core functions." alt="" coords="5,413,99,442"/>
<area shape="poly" title=" " alt="" coords="948,355,803,358,597,368,358,385,114,413,114,408,358,380,597,362,803,353,947,349"/>
<area shape="rect" title=" " alt="" coords="123,413,189,442"/>
<area shape="poly" title=" " alt="" coords="947,355,816,359,632,369,422,387,208,415,204,416,204,411,208,410,421,382,632,364,816,354,947,349"/>
<area shape="rect" title=" " alt="" coords="238,490,311,520"/>
<area shape="poly" title=" " alt="" coords="947,354,776,357,555,366,449,374,358,384,289,398,267,406,254,414,247,428,247,444,259,477,254,479,241,445,242,427,250,411,265,401,288,393,357,379,449,369,555,361,775,352,947,349"/>
<area shape="rect" title=" " alt="" coords="405,413,475,442"/>
<area shape="poly" title=" " alt="" coords="948,357,750,376,622,392,490,415,489,410,621,387,749,371,947,352"/>
<area shape="rect" title=" " alt="" coords="499,413,562,442"/>
<area shape="poly" title=" " alt="" coords="948,359,786,379,684,394,578,415,577,410,683,389,785,373,947,354"/>
<area shape="rect" title=" " alt="" coords="586,413,670,442"/>
<area shape="poly" title=" " alt="" coords="948,363,685,415,684,409,947,358"/>
<area shape="rect" title=" " alt="" coords="693,413,766,442"/>
<area shape="poly" title=" " alt="" coords="951,368,781,414,780,409,950,363"/>
<area shape="rect" title=" " alt="" coords="790,413,869,442"/>
<area shape="poly" title=" " alt="" coords="971,368,877,409,875,404,969,363"/>
<area shape="rect" href="vlc__mtime_8h.html" title=" " alt="" coords="894,413,989,442"/>
<area shape="poly" title=" " alt="" coords="986,367,956,402,952,398,982,364"/>
<area shape="rect" href="vlc__threads_8h.html" title="Thread primitive declarations." alt="" coords="1013,413,1115,442"/>
<area shape="poly" title=" " alt="" coords="1009,364,1037,399,1033,403,1005,367"/>
<area shape="rect" title=" " alt="" coords="1139,413,1205,442"/>
<area shape="poly" title=" " alt="" coords="1036,363,1127,404,1125,408,1033,368"/>
<area shape="rect" href="vlc__arrays_8h.html" title="This file defines functions, structures and macros for handling arrays in vlc." alt="" coords="1229,413,1323,442"/>
<area shape="poly" title=" " alt="" coords="1048,363,1215,409,1214,414,1046,368"/>
<area shape="rect" href="vlc__messages_8h.html" title="Logging functions." alt="" coords="264,413,381,442"/>
<area shape="poly" title=" " alt="" coords="948,357,709,377,554,393,397,413,396,408,554,388,708,372,947,352"/>
<area shape="rect" href="vlc__objects_8h.html" title="Common VLC object defintions." alt="" coords="1346,413,1446,442"/>
<area shape="poly" title=" " alt="" coords="1058,360,1323,410,1331,412,1330,417,1322,415,1057,365"/>
<area shape="rect" href="vlc__variables_8h.html" title="VLC object variables and callbacks interface." alt="" coords="1470,413,1580,442"/>
<area shape="poly" title=" " alt="" coords="1058,356,1231,378,1446,410,1455,412,1454,417,1445,415,1230,383,1057,361"/>
<area shape="rect" href="vlc__main_8h.html" title="This file defines libvlc_int_t internal libvlc instance." alt="" coords="1604,413,1689,442"/>
<area shape="poly" title=" " alt="" coords="1058,352,1286,371,1433,388,1580,410,1589,412,1588,417,1580,415,1432,393,1286,377,1058,357"/>
<area shape="rect" href="vlc__configuration_8h.html" title="This file describes the programming interface for the configuration module." alt="" coords="1714,413,1851,442"/>
<area shape="poly" title=" " alt="" coords="1058,352,1330,373,1508,390,1690,410,1699,411,1698,417,1689,415,1508,395,1329,378,1058,358"/>
<area shape="poly" title=" " alt="" coords="98,415,122,410,354,382,584,364,785,354,933,350,933,355,785,360,584,370,355,388,123,415,99,420"/>
<area shape="poly" title=" " alt="" coords="958,410,988,376,992,379,962,414"/>
<area shape="poly" title=" " alt="" coords="1058,414,1030,378,1034,375,1062,410"/>
<area shape="rect" title=" " alt="" coords="927,490,998,520"/>
<area shape="poly" title=" " alt="" coords="1047,445,995,483,992,479,1043,441"/>
<area shape="rect" title=" " alt="" coords="1023,490,1105,520"/>
<area shape="poly" title=" " alt="" coords="1067,443,1067,475,1061,475,1061,443"/>
<area shape="rect" title=" " alt="" coords="1130,490,1233,520"/>
<area shape="poly" title=" " alt="" coords="1088,441,1148,479,1145,484,1085,445"/>
<area shape="poly" title=" " alt="" coords="1231,415,1072,371,1073,366,1232,409"/>
<area shape="poly" title=" " alt="" coords="381,414,405,410,698,375,932,354,933,359,698,380,406,415,382,419"/>
<area shape="poly" title=" " alt="" coords="316,444,294,479,289,476,311,442"/>
<area shape="poly" title=" " alt="" coords="1346,415,1072,364,1073,359,1347,410"/>
<area shape="poly" title=" " alt="" coords="1469,415,1469,415,1253,383,1073,361,1073,356,1254,378,1470,410,1470,410"/>
<area shape="poly" title=" " alt="" coords="1603,415,1456,393,1309,377,1073,358,1073,352,1309,371,1457,388,1604,410"/>
<area shape="poly" title=" " alt="" coords="1713,415,1532,395,1353,378,1073,358,1073,352,1354,373,1533,390,1713,410"/>
<area shape="rect" title=" " alt="" coords="1737,490,1828,520"/>
<area shape="poly" title=" " alt="" coords="1785,443,1785,475,1780,475,1780,443"/>
<area shape="poly" title=" " alt="" coords="949,132,959,199,979,286,992,320,987,322,973,288,954,200,944,132"/>
<area shape="rect" href="vlc__es_8h.html" title="This file defines the elementary streams format types." alt="" coords="1009,180,1079,209"/>
<area shape="poly" title=" " alt="" coords="966,130,1015,168,1012,172,962,134"/>
<area shape="poly" title=" " alt="" coords="1026,212,1005,232,988,258,984,273,984,289,992,320,987,321,979,290,979,273,983,256,1000,229,1022,208"/>
<area shape="rect" href="vlc__fourcc_8h.html" title=" " alt="" coords="997,257,1091,287"/>
<area shape="poly" title=" " alt="" coords="1047,210,1047,242,1041,242,1041,210"/>
<area shape="rect" href="vlc__text__style_8h.html" title=" " alt="" coords="1115,257,1229,287"/>
<area shape="poly" title=" " alt="" coords="1069,208,1137,247,1134,252,1067,212"/>
<area shape="rect" href="vlc__viewpoint_8h.html" title="Video and audio viewpoint struct and helpers." alt="" coords="1254,257,1368,287"/>
<area shape="poly" title=" " alt="" coords="1080,203,1246,250,1245,255,1078,208"/>
<area shape="poly" title=" " alt="" coords="1039,289,1020,322,1015,320,1034,286"/>
<area shape="poly" title=" " alt="" coords="1141,290,1049,331,1047,326,1139,285"/>
<area shape="poly" title=" " alt="" coords="1254,290,1073,334,1072,329,1252,285"/>
<area shape="rect" title=" " alt="" coords="1278,335,1343,365"/>
<area shape="poly" title=" " alt="" coords="1313,288,1313,319,1308,319,1308,288"/>
</map>
</div>
</div>
<p><a href="vlc__picture__pool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Picture pool configuration.  <a href="structpicture__pool__configuration__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7db264f2fbaa4b83664bb62cbaddca95" id="r_a7db264f2fbaa4b83664bb62cbaddca95"><td class="memItemLeft" align="right" valign="top">typedef struct picture_pool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7db264f2fbaa4b83664bb62cbaddca95">picture_pool_t</a></td></tr>
<tr class="memdesc:a7db264f2fbaa4b83664bb62cbaddca95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Picture pool handle.  <br /></td></tr>
<tr class="separator:a7db264f2fbaa4b83664bb62cbaddca95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a654edda9f28d13252dc70d161ba475bb" id="r_a654edda9f28d13252dc70d161ba475bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a654edda9f28d13252dc70d161ba475bb">picture_pool_NewExtended</a> (const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *)</td></tr>
<tr class="memdesc:a654edda9f28d13252dc70d161ba475bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a pool of preallocated pictures.  <br /></td></tr>
<tr class="separator:a654edda9f28d13252dc70d161ba475bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bd3db3fb71f6c9e13c88ed42d7e6bd" id="r_a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New</a> (unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="structpicture__t.html">picture_t</a> *const *tab)</td></tr>
<tr class="memdesc:a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a picture pool with pictures in a given array.  <br /></td></tr>
<tr class="separator:a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320413f390cc7ffccbb3519ca70e4068" id="r_a320413f390cc7ffccbb3519ca70e4068"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a320413f390cc7ffccbb3519ca70e4068">picture_pool_NewFromFormat</a> (const <a class="el" href="structvideo__format__t.html">video_format_t</a> *fmt, unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>)</td></tr>
<tr class="memdesc:a320413f390cc7ffccbb3519ca70e4068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates pictures from the heap and creates a picture pool with them.  <br /></td></tr>
<tr class="separator:a320413f390cc7ffccbb3519ca70e4068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e76dfc583512b766d4f9e233d2a26d" id="r_a71e76dfc583512b766d4f9e233d2a26d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71e76dfc583512b766d4f9e233d2a26d">picture_pool_Release</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *)</td></tr>
<tr class="memdesc:a71e76dfc583512b766d4f9e233d2a26d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a pool created by <a class="el" href="#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a>, <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a> or <a class="el" href="#a320413f390cc7ffccbb3519ca70e4068" title="Allocates pictures from the heap and creates a picture pool with them.">picture_pool_NewFromFormat()</a>.  <br /></td></tr>
<tr class="separator:a71e76dfc583512b766d4f9e233d2a26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65374bac3c7cb41ac5badeb384ec5379" id="r_a65374bac3c7cb41ac5badeb384ec5379"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65374bac3c7cb41ac5badeb384ec5379">picture_pool_Get</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *)</td></tr>
<tr class="memdesc:a65374bac3c7cb41ac5badeb384ec5379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a picture from a pool if any is immediately available.  <br /></td></tr>
<tr class="separator:a65374bac3c7cb41ac5badeb384ec5379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e42a409c74eed6f025740a464173ae" id="r_a32e42a409c74eed6f025740a464173ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32e42a409c74eed6f025740a464173ae">picture_pool_Wait</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *)</td></tr>
<tr class="memdesc:a32e42a409c74eed6f025740a464173ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a picture from a pool.  <br /></td></tr>
<tr class="separator:a32e42a409c74eed6f025740a464173ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af920d1f3fdd406fe0771ae55caebf78e" id="r_af920d1f3fdd406fe0771ae55caebf78e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af920d1f3fdd406fe0771ae55caebf78e">picture_pool_Enum</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *, void(*cb)(void *, <a class="el" href="structpicture__t.html">picture_t</a> *), void *data)</td></tr>
<tr class="memdesc:af920d1f3fdd406fe0771ae55caebf78e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates all pictures in a pool, both free and allocated.  <br /></td></tr>
<tr class="separator:af920d1f3fdd406fe0771ae55caebf78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75fcdf099abf28413f71d6c353b308f" id="r_ab75fcdf099abf28413f71d6c353b308f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab75fcdf099abf28413f71d6c353b308f">picture_pool_Cancel</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *, bool canceled)</td></tr>
<tr class="memdesc:ab75fcdf099abf28413f71d6c353b308f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the picture pool.  <br /></td></tr>
<tr class="separator:ab75fcdf099abf28413f71d6c353b308f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9295238673facd9714a278ed97631cf4" id="r_a9295238673facd9714a278ed97631cf4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9295238673facd9714a278ed97631cf4">picture_pool_OwnsPic</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *, <a class="el" href="structpicture__t.html">picture_t</a> *)</td></tr>
<tr class="memdesc:a9295238673facd9714a278ed97631cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a picture belongs to the picture pool.  <br /></td></tr>
<tr class="separator:a9295238673facd9714a278ed97631cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca33cdb96eedd725a724577ef2dfc2fe" id="r_aca33cdb96eedd725a724577ef2dfc2fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca33cdb96eedd725a724577ef2dfc2fe">picture_pool_Reserve</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *, unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>)</td></tr>
<tr class="memdesc:aca33cdb96eedd725a724577ef2dfc2fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves pictures from a pool and creates a new pool with those.  <br /></td></tr>
<tr class="separator:aca33cdb96eedd725a724577ef2dfc2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad407a18e44e773ae038fdcb4571f11e" id="r_aad407a18e44e773ae038fdcb4571f11e"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad407a18e44e773ae038fdcb4571f11e">picture_pool_GetSize</a> (const <a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *)</td></tr>
<tr class="separator:aad407a18e44e773ae038fdcb4571f11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines picture pool structures and functions in vlc. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a7db264f2fbaa4b83664bb62cbaddca95" name="a7db264f2fbaa4b83664bb62cbaddca95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db264f2fbaa4b83664bb62cbaddca95">&#9670;&#160;</a></span>picture_pool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct picture_pool_t picture_pool_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Picture pool handle. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab75fcdf099abf28413f71d6c353b308f" name="ab75fcdf099abf28413f71d6c353b308f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75fcdf099abf28413f71d6c353b308f">&#9670;&#160;</a></span>picture_pool_Cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>canceled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the picture pool. </p>
<p>It won't return any pictures via picture_pool_Get or picture_pool_Wait if canceled is true. This function will also unblock picture_pool_Wait. picture_pool_Reset will also reset the cancel state to false. </p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#ga553dc87dc055e56b809103b1dafc261e">vlc_cond_broadcast()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="video__output_8c.html#a1c7ea29947a233690d7dce433bf2523f">ThreadCancel()</a>.</p>

</div>
</div>
<a id="af920d1f3fdd406fe0771ae55caebf78e" name="af920d1f3fdd406fe0771ae55caebf78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af920d1f3fdd406fe0771ae55caebf78e">&#9670;&#160;</a></span>picture_pool_Enum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Enum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>cb&#160;</em></span>)(void *, <a class="el" href="structpicture__t.html">picture_t</a> *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates all pictures in a pool, both free and allocated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>callback to invoke once for each picture </td></tr>
    <tr><td class="paramname">data</td><td>opaque data parameter for the callback (first argument)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Allocated pictures may be accessed asynchronously by other threads. Therefore, only read-only picture parameters can be read by the callback, typically <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01" title="Private data - the video output plugin might want to put stuff here to keep track of the picture.">picture_t.p_sys</a>. Provided those rules are respected, the function is thread-safe. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, and <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>.</p>

</div>
</div>
<a id="a65374bac3c7cb41ac5badeb384ec5379" name="a65374bac3c7cb41ac5badeb384ec5379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65374bac3c7cb41ac5badeb384ec5379">&#9670;&#160;</a></span>picture_pool_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__t.html">picture_t</a> * picture_pool_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a picture from a pool if any is immediately available. </p>
<p>The picture must be released with <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>a picture, or NULL if all pictures in the pool are allocated</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>
<p>&lt; No error</p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="vlc__fixups_8h.html#a33f2d2db9552867529751e1d39cac02e">ffsll()</a>, <a class="el" href="picture__pool_8c.html#ab29e8bb60a2ed1e0ed72f00805a69936">fnsll()</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__t.html#a24e14541fe992251a5f88a0f2dae9c7d">picture_t::p_next</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="picture__pool_8c.html#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture()</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="vlc__common_8h.html#af24cdfbdddcc5d1a33d9c9f601323f17">VLC_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="picture__pool_8c.html#ac9ace4a70044f2690dbfd87cd68d7806">picture_pool_Reserve()</a>, <a class="el" href="display_8c.html#aa526a18d39fffdbe6e4db00b769a0696">SplitterPictureNew()</a>, <a class="el" href="video__output_8c.html#a520d057cae37a22942a35d19999939cd">ThreadDisplayRenderPicture()</a>, <a class="el" href="display_8c.html#a7d8131999609e009d17221394b3606e3">VideoBufferNew()</a>, and <a class="el" href="video__output_8c.html#a16393f6d12e29eda6468b27840e23396">VoutVideoFilterInteractiveNewPicture()</a>.</p>

</div>
</div>
<a id="aad407a18e44e773ae038fdcb4571f11e" name="aad407a18e44e773ae038fdcb4571f11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad407a18e44e773ae038fdcb4571f11e">&#9670;&#160;</a></span>picture_pool_GetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned picture_pool_GetSize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the total number of pictures in the given pool </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a96bd3db3fb71f6c9e13c88ed42d7e6bd" name="a96bd3db3fb71f6c9e13c88ed42d7e6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">&#9670;&#160;</a></span>picture_pool_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_New </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *const *</td>          <td class="paramname"><span class="paramname"><em>tab</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a picture pool with pictures in a given array. </p>
<p>This is a convenience wrapper for <a class="el" href="#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a> without the lock and unlock callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of pictures in the array </td></tr>
    <tr><td class="paramname">tab</td><td>array of pictures</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the new pool on success, or NULL on error (pictures are <b>not</b> released on error) </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="structpicture__pool__configuration__t.html#a379b7301ba3b80d2ab741fe9a7cfb2b7">picture_pool_configuration_t::picture_count</a>, and <a class="el" href="picture__pool_8c.html#ab23d3e8731ebc09898b0412f02b038e7">picture_pool_NewExtended()</a>.</p>

<p class="reference">Referenced by <a class="el" href="picture__pool_8c.html#a320413f390cc7ffccbb3519ca70e4068">picture_pool_NewFromFormat()</a>, and <a class="el" href="picture__pool_8c.html#ac9ace4a70044f2690dbfd87cd68d7806">picture_pool_Reserve()</a>.</p>

</div>
</div>
<a id="a654edda9f28d13252dc70d161ba475bb" name="a654edda9f28d13252dc70d161ba475bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654edda9f28d13252dc70d161ba475bb">&#9670;&#160;</a></span>picture_pool_NewExtended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_NewExtended </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a pool of preallocated pictures. </p>
<p>Free pictures can be allocated from the pool, and are returned to the pool when they are no longer referenced.</p>
<p>This avoids allocating and deallocationg pictures repeatedly, and ensures that memory consumption remains within limits.</p>
<p>To obtain a picture from the pool, use <a class="el" href="#a65374bac3c7cb41ac5badeb384ec5379" title="Obtains a picture from a pool if any is immediately available.">picture_pool_Get()</a>. To increase and decrease the reference count, use <a class="el" href="picture_8c.html#a7597f1e9f823a2a63e657bc38f9da373" title="This function will increase the picture reference count.">picture_Hold()</a> and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a> respectively.</p>
<p>If defined, <a class="el" href="structpicture__pool__configuration__t.html#a4a7ac75b2337e3a9504d49f059de220a">picture_pool_configuration_t::lock</a> will be called before a picture is used, and <a class="el" href="structpicture__pool__configuration__t.html#a4b6456dc6cac37e51e3caa9982c7cbb5">picture_pool_configuration_t::unlock</a> will be called as soon as a picture is returned to the pool. Those callbacks can modify <a class="el" href="structpicture__t.html#a47c3095f153430258c8d3d9ce23f33ff" title="description of the planes">picture_t::p</a> and access <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01" title="Private data - the video output plugin might want to put stuff here to keep track of the picture.">picture_t::p_sys</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new pool on success, or NULL on error (pictures are <b>not</b> released on error). </dd></dl>

<p class="reference">References <a class="el" href="vlc__fixups_8h.html#a156a1e11400cb25e0690e3dddf6c19d5">aligned_alloc()</a>, <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="structpicture__pool__configuration__t.html#a4a7ac75b2337e3a9504d49f059de220a">picture_pool_configuration_t::lock</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#aa81efdb4ba1d341681ec0c31e5613a47">picture_pool_t::pic_unlock</a>, <a class="el" href="structpicture__pool__configuration__t.html#a2f3cdcf1271962b6835f52b81dba7c9c">picture_pool_configuration_t::picture</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="structpicture__pool__configuration__t.html#a379b7301ba3b80d2ab741fe9a7cfb2b7">picture_pool_configuration_t::picture_count</a>, <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>, <a class="el" href="picture__pool_8c.html#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="vlc__common_8h.html#a1728ccf7d6547a32d7b2fc7451256907">unlikely</a>, <a class="el" href="structpicture__pool__configuration__t.html#a4b6456dc6cac37e51e3caa9982c7cbb5">picture_pool_configuration_t::unlock</a>, <a class="el" href="group__thread.html#gaf841230035a2d6298723a0284a7bdad3">vlc_cond_init()</a>, <a class="el" href="group__thread.html#ga7edbc0a9ad929f838dd426f84ff10c2c">vlc_mutex_init()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="picture__pool_8c.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>.</p>

</div>
</div>
<a id="a320413f390cc7ffccbb3519ca70e4068" name="a320413f390cc7ffccbb3519ca70e4068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320413f390cc7ffccbb3519ca70e4068">&#9670;&#160;</a></span>picture_pool_NewFromFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_NewFromFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvideo__format__t.html">video_format_t</a> *</td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates pictures from the heap and creates a picture pool with them. </p>
<p>This is a convenience wrapper for <a class="el" href="picture_8c.html#a0de814d48fb14fac5c0d6ab6399cdb75" title="This function will create a new picture using the given format.">picture_NewFromFormat()</a> and <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt</td><td>video format of pictures to allocate from the heap </td></tr>
    <tr><td class="paramname">count</td><td>number of pictures to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the new pool on success, NULL on error </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="picture_8c.html#a0de814d48fb14fac5c0d6ab6399cdb75">picture_NewFromFormat()</a>, <a class="el" href="picture__pool_8c.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="display_8c.html#aec15196616bd1ec61c28d3d6ad752b48">SplitterPool()</a>, and <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a9295238673facd9714a278ed97631cf4" name="a9295238673facd9714a278ed97631cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9295238673facd9714a278ed97631cf4">&#9670;&#160;</a></span>picture_pool_OwnsPic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool picture_pool_OwnsPic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pic</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a picture belongs to the picture pool. </p>
<p>FIXME: remove this function when the <a class="el" href="group__video__output.html#gaef1dacadc272b4c85d6c295ffe4c8acf" title="It gives to the vout a picture to be displayed.">vout_PutPicture()</a> hack is fixed. </p>

<p class="reference">References <a class="el" href="structpicture__priv__t.html#aa7a61359fae61152aa5dd496d3c3f93d">picture_priv_t::destroy</a>, <a class="el" href="structpicture__priv__t.html#af4986fe596727bc0365893ee7fc53584">picture_priv_t::gc</a>, <a class="el" href="structpicture__priv__t.html#aa137bd625841d386b65f4ae5e49f38be">picture_priv_t::opaque</a>, <a class="el" href="picture__pool_8c.html#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture()</a>, and <a class="el" href="picture__pool_8c.html#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__video__output.html#gaef1dacadc272b4c85d6c295ffe4c8acf">vout_PutPicture()</a>.</p>

</div>
</div>
<a id="a71e76dfc583512b766d4f9e233d2a26d" name="a71e76dfc583512b766d4f9e233d2a26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e76dfc583512b766d4f9e233d2a26d">&#9670;&#160;</a></span>picture_pool_Release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases a pool created by <a class="el" href="#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a>, <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a> or <a class="el" href="#a320413f390cc7ffccbb3519ca70e4068" title="Allocates pictures from the heap and creates a picture pool with them.">picture_pool_NewFromFormat()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>If there are no pending references to the pooled pictures, and the <a class="el" href="structpicture__resource__t.html#ae77270975209503aa8370b957a18c1b8">picture_resource_t.pf_destroy</a> callback was not NULL, it will be invoked. Otherwise the default callback will be used.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If there are pending references (a.k.a. late pictures), the pictures will remain valid until the all pending references are dropped by <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>, <a class="el" href="picture__pool_8c.html#ab6f1228da4876d664daa4efaa5e336eb">picture_pool_Destroy()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="display_8c.html#a3de219811e31c78c111210e1db8249ed">SplitterClose()</a>, <a class="el" href="vout__internal_8h.html#a0e8f7b3953440dd212e4c2815decd1e8">vout_EndWrapper()</a>, and <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="aca33cdb96eedd725a724577ef2dfc2fe" name="aca33cdb96eedd725a724577ef2dfc2fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca33cdb96eedd725a724577ef2dfc2fe">&#9670;&#160;</a></span>picture_pool_Reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_Reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>master</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserves pictures from a pool and creates a new pool with those. </p>
<p>When the new pool is released, pictures are returned to the master pool. If the master pool was already released, pictures will be destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of picture to reserve</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new pool, or NULL if there were not enough pictures available or on error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe (but it might return NULL if other threads have already allocated too many pictures). </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="picture__pool_8c.html#a78bfd7a8bccc3c10fec048cb35522d0a">picture_pool_Get()</a>, <a class="el" href="picture__pool_8c.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a32e42a409c74eed6f025740a464173ae" name="a32e42a409c74eed6f025740a464173ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e42a409c74eed6f025740a464173ae">&#9670;&#160;</a></span>picture_pool_Wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__t.html">picture_t</a> * picture_pool_Wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a picture from a pool. </p>
<p>The picture must be released with <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>a picture or NULL on memory error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>
<p>&lt; No error</p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="vlc__fixups_8h.html#a33f2d2db9552867529751e1d39cac02e">ffsll()</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__t.html#a24e14541fe992251a5f88a0f2dae9c7d">picture_t::p_next</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="picture__pool_8c.html#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture()</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="group__thread.html#ga84dd904e84e0c782b42eec1d66fbbc6d">vlc_cond_wait()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, <a class="el" href="vlc__common_8h.html#af24cdfbdddcc5d1a33d9c9f601323f17">VLC_SUCCESS</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__video__output.html#ga0f32f16cb18384ae5212e8c2abd1c7c8">vout_GetPicture()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
