<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VLC: src/misc/background_worker.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VLC<span id="projectnumber">&#160;3.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_88826aa2a10e1882b573f502bc7f4b55.html">misc</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">background_worker.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
Include dependency graph for background_worker.c:</div>
<div class="dyncontent">
<div class="center"><img src="background__worker_8c__incl.png" border="0" usemap="#asrc_2misc_2background__worker_8c" alt=""/></div>
<map name="asrc_2misc_2background__worker_8c" id="asrc_2misc_2background__worker_8c">
<area shape="rect" title=" " alt="" coords="1318,5,1466,54"/>
<area shape="rect" title=" " alt="" coords="1001,102,1073,132"/>
<area shape="poly" title=" " alt="" coords="1318,51,1092,105,1088,106,1087,100,1091,99,1316,46"/>
<area shape="rect" href="vlc__common_8h.html" title="This file is a collection of common definitions and types." alt="" coords="1148,102,1257,132"/>
<area shape="poly" title=" " alt="" coords="1340,57,1249,98,1247,93,1338,52"/>
<area shape="rect" href="vlc__threads_8h.html" title="Thread primitive declarations." alt="" coords="91,180,194,209"/>
<area shape="poly" title=" " alt="" coords="1318,49,1230,72,1137,104,1112,120,1086,134,1004,151,901,162,784,167,658,170,410,172,300,175,209,182,209,177,300,170,410,167,658,164,783,162,901,156,1003,146,1084,129,1109,116,1135,100,1228,67,1316,44"/>
<area shape="rect" href="vlc__arrays_8h.html" title="This file defines functions, structures and macros for handling arrays in vlc." alt="" coords="1754,180,1848,209"/>
<area shape="poly" title=" " alt="" coords="1452,52,1752,171,1750,176,1450,57"/>
<area shape="rect" href="include_2vlc_2libvlc_8h.html" title="LibVLC core external API." alt="" coords="1872,102,1935,132"/>
<area shape="poly" title=" " alt="" coords="1467,41,1857,105,1856,110,1466,46"/>
<area shape="rect" href="background__worker_8h.html" title=" " alt="" coords="1960,102,2114,132"/>
<area shape="poly" title=" " alt="" coords="1467,37,1945,99,1944,104,1466,43"/>
<area shape="rect" href="vlc__config_8h.html" title="This file defines of values used in interface, vout, aout and vlc core functions." alt="" coords="1586,180,1680,209"/>
<area shape="poly" title=" " alt="" coords="1258,125,1396,147,1563,177,1572,179,1571,184,1562,182,1395,152,1257,130"/>
<area shape="rect" title=" " alt="" coords="217,180,284,209"/>
<area shape="poly" title=" " alt="" coords="1148,132,1129,134,1004,146,897,152,714,151,626,151,531,155,425,164,299,182,298,177,424,159,531,149,626,146,714,146,897,146,1004,141,1129,129,1147,126"/>
<area shape="rect" title=" " alt="" coords="1681,257,1753,287"/>
<area shape="poly" title=" " alt="" coords="1257,115,1364,117,1493,125,1557,133,1613,144,1660,159,1693,178,1705,192,1713,208,1720,242,1714,243,1708,210,1701,194,1690,182,1658,164,1612,149,1556,138,1493,131,1364,122,1257,120"/>
<area shape="rect" title=" " alt="" coords="308,180,377,209"/>
<area shape="poly" title=" " alt="" coords="1148,132,1129,134,1018,146,924,151,761,153,599,157,504,166,393,182,392,177,504,161,599,152,761,147,923,146,1018,140,1129,129,1147,126"/>
<area shape="rect" title=" " alt="" coords="1872,180,1935,209"/>
<area shape="poly" title=" " alt="" coords="1258,117,1366,122,1513,132,1682,149,1857,177,1856,182,1682,155,1513,137,1366,127,1257,122"/>
<area shape="rect" title=" " alt="" coords="401,180,484,209"/>
<area shape="poly" title=" " alt="" coords="1148,132,1129,134,954,151,816,155,677,161,500,182,499,177,677,156,816,150,954,145,1129,129,1147,126"/>
<area shape="rect" title=" " alt="" coords="670,180,742,209"/>
<area shape="poly" title=" " alt="" coords="1148,131,1129,134,1026,148,945,155,862,164,758,182,757,177,862,159,944,150,1026,142,1129,129,1147,126"/>
<area shape="rect" title=" " alt="" coords="767,180,846,209"/>
<area shape="poly" title=" " alt="" coords="1148,131,1129,134,997,156,862,182,861,177,996,151,1129,129,1147,126"/>
<area shape="rect" href="vlc__mtime_8h.html" title=" " alt="" coords="871,180,966,209"/>
<area shape="poly" title=" " alt="" coords="1148,133,980,178,978,172,1147,128"/>
<area shape="poly" title=" " alt="" coords="1148,130,1117,134,979,148,861,154,660,156,460,158,345,166,209,180,208,175,344,160,460,153,660,151,860,149,978,143,1117,129,1147,124"/>
<area shape="rect" title=" " alt="" coords="990,180,1055,209"/>
<area shape="poly" title=" " alt="" coords="1170,135,1070,176,1068,171,1167,130"/>
<area shape="poly" title=" " alt="" coords="1258,121,1463,142,1724,177,1740,180,1739,185,1723,182,1463,147,1257,126"/>
<area shape="rect" href="vlc__messages_8h.html" title="Logging functions." alt="" coords="1079,180,1195,209"/>
<area shape="poly" title=" " alt="" coords="1185,134,1153,169,1149,165,1181,130"/>
<area shape="rect" href="vlc__objects_8h.html" title="Common VLC object defintions." alt="" coords="1219,180,1319,209"/>
<area shape="poly" title=" " alt="" coords="1210,131,1241,167,1236,170,1206,134"/>
<area shape="rect" href="vlc__variables_8h.html" title="VLC object variables and callbacks interface." alt="" coords="1343,180,1454,209"/>
<area shape="poly" title=" " alt="" coords="1233,130,1341,172,1339,176,1231,135"/>
<area shape="rect" href="vlc__main_8h.html" title="This file defines libvlc_int_t internal libvlc instance." alt="" coords="1477,180,1562,209"/>
<area shape="poly" title=" " alt="" coords="1255,130,1454,177,1463,179,1462,184,1452,182,1253,135"/>
<area shape="rect" href="vlc__configuration_8h.html" title="This file describes the programming interface for the configuration module." alt="" coords="508,180,646,209"/>
<area shape="poly" title=" " alt="" coords="1148,129,1117,134,988,150,887,159,787,166,662,180,662,175,787,161,887,153,988,145,1117,129,1147,124"/>
<area shape="poly" title=" " alt="" coords="1586,182,1417,152,1272,130,1272,124,1418,147,1586,177"/>
<area shape="poly" title=" " alt="" coords="966,180,1141,134,1142,139,967,185"/>
<area shape="poly" title=" " alt="" coords="194,181,217,177,355,162,473,154,675,151,876,149,994,143,1132,130,1132,135,994,148,876,154,675,156,473,159,356,167,217,182,195,186"/>
<area shape="rect" title=" " alt="" coords="5,257,77,287"/>
<area shape="poly" title=" " alt="" coords="125,212,74,250,70,246,122,208"/>
<area shape="rect" title=" " alt="" coords="101,257,184,287"/>
<area shape="poly" title=" " alt="" coords="145,210,145,242,140,242,140,210"/>
<area shape="rect" title=" " alt="" coords="208,257,311,287"/>
<area shape="poly" title=" " alt="" coords="166,208,226,246,224,251,163,212"/>
<area shape="poly" title=" " alt="" coords="1753,183,1747,182,1485,147,1272,126,1272,121,1486,142,1748,177,1754,178"/>
<area shape="poly" title=" " alt="" coords="1154,177,1186,143,1190,146,1158,181"/>
<area shape="poly" title=" " alt="" coords="1196,205,1208,207,1465,241,1666,263,1665,268,1464,246,1207,212,1195,210"/>
<area shape="poly" title=" " alt="" coords="1262,181,1231,145,1235,141,1266,177"/>
<area shape="poly" title=" " alt="" coords="1368,182,1260,140,1262,135,1370,177"/>
<area shape="poly" title=" " alt="" coords="1476,182,1272,135,1273,130,1477,177"/>
<area shape="poly" title=" " alt="" coords="646,181,670,177,800,162,902,154,1003,146,1132,130,1133,135,1004,151,902,159,800,167,671,182,647,186"/>
<area shape="rect" title=" " alt="" coords="531,257,623,287"/>
<area shape="poly" title=" " alt="" coords="580,210,580,242,574,242,574,210"/>
<area shape="poly" title=" " alt="" coords="1921,130,1937,147,1950,167,1957,190,1950,211,1938,222,1920,231,1874,247,1769,267,1768,262,1872,242,1918,226,1935,217,1945,208,1951,190,1945,170,1932,150,1917,134"/>
<area shape="poly" title=" " alt="" coords="1906,132,1906,164,1901,164,1901,132"/>
<area shape="rect" title=" " alt="" coords="2011,180,2079,209"/>
<area shape="poly" title=" " alt="" coords="1932,130,2006,170,2004,174,1929,135"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbg__queued__item.html">bg_queued_item</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbackground__worker.html">background_worker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a84d199c1187eedb17b230fb4cd2cd0d0" id="r_a84d199c1187eedb17b230fb4cd2cd0d0"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84d199c1187eedb17b230fb4cd2cd0d0">Thread</a> (void *data)</td></tr>
<tr class="separator:a84d199c1187eedb17b230fb4cd2cd0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6204a0f9b971b486b22e6122864e252f" id="r_a6204a0f9b971b486b22e6122864e252f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6204a0f9b971b486b22e6122864e252f">BackgroundWorkerCancel</a> (struct <a class="el" href="structbackground__worker.html">background_worker</a> *worker, void *id)</td></tr>
<tr class="separator:a6204a0f9b971b486b22e6122864e252f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323ad8f397d1dcc06972a7030971c55a" id="r_a323ad8f397d1dcc06972a7030971c55a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbackground__worker.html">background_worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a323ad8f397d1dcc06972a7030971c55a">background_worker_New</a> (void *owner, struct <a class="el" href="structbackground__worker__config.html">background_worker_config</a> *conf)</td></tr>
<tr class="memdesc:a323ad8f397d1dcc06972a7030971c55a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a background-worker.  <br /></td></tr>
<tr class="separator:a323ad8f397d1dcc06972a7030971c55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdefe032b4f0615f4e3aa9781f719f0a" id="r_afdefe032b4f0615f4e3aa9781f719f0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdefe032b4f0615f4e3aa9781f719f0a">background_worker_Push</a> (struct <a class="el" href="structbackground__worker.html">background_worker</a> *worker, void *entity, void *id, int timeout)</td></tr>
<tr class="memdesc:afdefe032b4f0615f4e3aa9781f719f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push an entity into the background-worker.  <br /></td></tr>
<tr class="separator:afdefe032b4f0615f4e3aa9781f719f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab226d50486aad3e99fa642eee114213" id="r_aab226d50486aad3e99fa642eee114213"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab226d50486aad3e99fa642eee114213">background_worker_Cancel</a> (struct <a class="el" href="structbackground__worker.html">background_worker</a> *worker, void *id)</td></tr>
<tr class="memdesc:aab226d50486aad3e99fa642eee114213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove entities from the background-worker.  <br /></td></tr>
<tr class="separator:aab226d50486aad3e99fa642eee114213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9641f62659d36481ff9e6789462e99" id="r_a2b9641f62659d36481ff9e6789462e99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b9641f62659d36481ff9e6789462e99">background_worker_RequestProbe</a> (struct <a class="el" href="structbackground__worker.html">background_worker</a> *worker)</td></tr>
<tr class="memdesc:a2b9641f62659d36481ff9e6789462e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the background-worker to probe the current task.  <br /></td></tr>
<tr class="separator:a2b9641f62659d36481ff9e6789462e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3602f506099cdef07ab6d93367292e1f" id="r_a3602f506099cdef07ab6d93367292e1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3602f506099cdef07ab6d93367292e1f">background_worker_Delete</a> (struct <a class="el" href="structbackground__worker.html">background_worker</a> *worker)</td></tr>
<tr class="memdesc:a3602f506099cdef07ab6d93367292e1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a background-worker.  <br /></td></tr>
<tr class="separator:a3602f506099cdef07ab6d93367292e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aab226d50486aad3e99fa642eee114213" name="aab226d50486aad3e99fa642eee114213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab226d50486aad3e99fa642eee114213">&#9670;&#160;</a></span>background_worker_Cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void background_worker_Cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker.html">background_worker</a> *</td>          <td class="paramname"><span class="paramname"><em>worker</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove entities from the background-worker. </p>
<p>This function is used to remove processing of a certain entity given its associated id, or to remove all queued (including currently running) entities.</p>
<dl class="section warning"><dt>Warning</dt><dd>if the <code>id</code> passed refers to an entity that is currently being processed, the call will block until the task has been terminated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>the background-worker </td></tr>
    <tr><td class="paramname">id</td><td>NULL if every entity shall be removed, and the currently running task (if any) shall be cancelled. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a6204a0f9b971b486b22e6122864e252f">BackgroundWorkerCancel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="preparser_8c.html#a0bfe7cae8829d52abb3739e525f1dd44">playlist_preparser_Cancel()</a>, and <a class="el" href="preparser_8c.html#a75e878efec4ead6ea63653472d653902">playlist_preparser_Deactivate()</a>.</p>

</div>
</div>
<a id="a3602f506099cdef07ab6d93367292e1f" name="a3602f506099cdef07ab6d93367292e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3602f506099cdef07ab6d93367292e1f">&#9670;&#160;</a></span>background_worker_Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void background_worker_Delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker.html">background_worker</a> *</td>          <td class="paramname"><span class="paramname"><em>worker</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a background-worker. </p>
<p>This function will destroy a background-worker created through <a class="el" href="#a323ad8f397d1dcc06972a7030971c55a">background_worker_New</a>. It will effectively stop the currently running task, if any, and empty the queue of pending entities.</p>
<dl class="section warning"><dt>Warning</dt><dd>If there is a currently running task, the function will block until it has been stopped.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>the background-worker </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a6204a0f9b971b486b22e6122864e252f">BackgroundWorkerCancel()</a>, <a class="el" href="structbackground__worker.html#aecd1f2566a4b8a72e14cf5dfb756e7b8">background_worker::data</a>, <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="structbackground__worker.html#aac67f1efc70f3602a35cf92c2f8b6699">background_worker::tail</a>, <a class="el" href="vlc__arrays_8h.html#a79ec750aee8ed36fc074d5f01b1e91e8">vlc_array_clear()</a>, <a class="el" href="group__thread.html#ga31e9453c8b43458f27456906fab5dd39">vlc_cond_destroy()</a>, <a class="el" href="group__thread.html#gab366d67deeff625a181455e69ab5d937">vlc_mutex_destroy()</a>, <a class="el" href="structbackground__worker.html#ae3cffb38796c9358867eecd4c5643bfc">background_worker::wait</a>, and <a class="el" href="structbackground__worker.html#a6ee158532e39f52192fd9f47dd267dd1">background_worker::worker_wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="fetcher_8c.html#a96c088a55731081358eb2d48bd4b2cba">playlist_fetcher_Delete()</a>, <a class="el" href="fetcher_8c.html#a9a178d8f35513eb20011b8862845d7d3">playlist_fetcher_New()</a>, and <a class="el" href="preparser_8c.html#a0acb27dece434a879588741ffa502715">playlist_preparser_Delete()</a>.</p>

</div>
</div>
<a id="a323ad8f397d1dcc06972a7030971c55a" name="a323ad8f397d1dcc06972a7030971c55a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323ad8f397d1dcc06972a7030971c55a">&#9670;&#160;</a></span>background_worker_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbackground__worker.html">background_worker</a> * background_worker_New </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker__config.html">background_worker_config</a> *</td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a background-worker. </p>
<p>This function creates a new background-worker using the passed configuration.</p>
<dl class="section warning"><dt>Warning</dt><dd>all members of <code>config</code> shall have been set by the caller. </dd>
<dd>
the returned resource must be destroyed using <a class="el" href="#a3602f506099cdef07ab6d93367292e1f">background_worker_Delete</a> on success.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner</td><td>the owner of the background-worker </td></tr>
    <tr><td class="paramname">config</td><td>the background-worker's configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer-to the created background-worker on success, <code>NULL</code> on failure. </dd></dl>

<p class="reference">References <a class="el" href="structbackground__worker.html#a039bc281cab7c72e97ba1cbd97d69acd">background_worker::active</a>, <a class="el" href="structbackground__worker.html#aa5ccac9da389fd02967ccfab8d3d43f7">background_worker::conf</a>, <a class="el" href="structbackground__worker.html#aecd1f2566a4b8a72e14cf5dfb756e7b8">background_worker::data</a>, <a class="el" href="structbackground__worker.html#a13fa4651a59a01bcd1dc8ef2278bef2c">background_worker::deadline</a>, <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbackground__worker.html#a0474395457a6b5e09968cd0142835214">background_worker::id</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="structbackground__worker.html#af73b993643c5ee94fd743417668c5e4e">background_worker::owner</a>, <a class="el" href="structbackground__worker.html#aac67f1efc70f3602a35cf92c2f8b6699">background_worker::tail</a>, <a class="el" href="vlc__common_8h.html#a1728ccf7d6547a32d7b2fc7451256907">unlikely</a>, <a class="el" href="vlc__arrays_8h.html#a2c33ec77a5383bfcf1146a11e49097f5">vlc_array_init()</a>, <a class="el" href="group__thread.html#gaf841230035a2d6298723a0284a7bdad3">vlc_cond_init()</a>, <a class="el" href="group__thread.html#ga7edbc0a9ad929f838dd426f84ff10c2c">vlc_mutex_init()</a>, <a class="el" href="vlc__config_8h.html#a6e0e46f71f8cf99ba13dc0414d945043">VLC_TS_INVALID</a>, <a class="el" href="structbackground__worker.html#ae3cffb38796c9358867eecd4c5643bfc">background_worker::wait</a>, and <a class="el" href="structbackground__worker.html#a6ee158532e39f52192fd9f47dd267dd1">background_worker::worker_wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="preparser_8c.html#a9689ea8c0496548dd5a64f9138e59555">playlist_preparser_New()</a>, and <a class="el" href="fetcher_8c.html#ac3af38eb55d7043e7e9bbb08c6914dcf">WorkerInit()</a>.</p>

</div>
</div>
<a id="afdefe032b4f0615f4e3aa9781f719f0a" name="afdefe032b4f0615f4e3aa9781f719f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdefe032b4f0615f4e3aa9781f719f0a">&#9670;&#160;</a></span>background_worker_Push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int background_worker_Push </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker.html">background_worker</a> *</td>          <td class="paramname"><span class="paramname"><em>worker</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>entity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push an entity into the background-worker. </p>
<p>This function is used to push an entity into the queue of pending work. The entities will be processed in the order in which they are received (in terms of the order of invocations in a single-threaded environment).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>the background-worker </td></tr>
    <tr><td class="paramname">entity</td><td>the entity which is to be queued </td></tr>
    <tr><td class="paramname">id</td><td>a value suitable for identifying the entity, or <code>NULL</code> </td></tr>
    <tr><td class="paramname">timeout</td><td>the timeout of the entity in milliseconds, <code>0</code> denotes no timeout, a negative value will use the default timeout associated with the background-worker. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VLC_SUCCESS if the entity was successfully queued, an error-code on failure. </dd></dl>
<p>&lt; Unspecified error</p>
<p>&lt; Unspecified error</p>
<p>&lt; No error</p>
<p>&lt; Unspecified error</p>

<p class="reference">References <a class="el" href="structbackground__worker.html#a039bc281cab7c72e97ba1cbd97d69acd">background_worker::active</a>, <a class="el" href="structbackground__worker.html#aa5ccac9da389fd02967ccfab8d3d43f7">background_worker::conf</a>, <a class="el" href="structbackground__worker.html#aecd1f2566a4b8a72e14cf5dfb756e7b8">background_worker::data</a>, <a class="el" href="structbackground__worker__config.html#ace2712e88ddecceac44b9c14258d73a3">background_worker_config::default_timeout</a>, <a class="el" href="structbg__queued__item.html#ad50daaa9a3e0a86379650c24c721170b">bg_queued_item::entity</a>, <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbg__queued__item.html#a6908c72e2b307adb095f5f0145e5f7ca">bg_queued_item::id</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="structbackground__worker__config.html#a67041e3e2fe8792e4e45439972dd0bf5">background_worker_config::pf_hold</a>, <a class="el" href="structbackground__worker.html#a95e5413f35d1def15a41527e5cd52ffa">background_worker::probe_request</a>, <a class="el" href="structbackground__worker.html#aac67f1efc70f3602a35cf92c2f8b6699">background_worker::tail</a>, <a class="el" href="#a84d199c1187eedb17b230fb4cd2cd0d0">Thread()</a>, <a class="el" href="structbg__queued__item.html#a15840f39942d85d41c3333771d834c64">bg_queued_item::timeout</a>, <a class="el" href="vlc__common_8h.html#a1728ccf7d6547a32d7b2fc7451256907">unlikely</a>, <a class="el" href="vlc__arrays_8h.html#a1acdffcc0e94730f2fd2e452885c68d4">vlc_array_append()</a>, <a class="el" href="android_2thread_8c.html#acc8fba124dde3d812f687141494f48b4">vlc_clone_detach()</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="vlc__common_8h.html#a2baa7840673512d3c8797b9ca97fa766">VLC_EGENERIC</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, <a class="el" href="vlc__common_8h.html#af24cdfbdddcc5d1a33d9c9f601323f17">VLC_SUCCESS</a>, <a class="el" href="group__thread.html#ga8fce225438265f9bb92542cbbcc84aef">VLC_THREAD_PRIORITY_LOW</a>, and <a class="el" href="structbackground__worker.html#ae3cffb38796c9358867eecd4c5643bfc">background_worker::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="fetcher_8c.html#a7cf72f45038cc64dee0eb5c27b43e619">playlist_fetcher_Push()</a>, <a class="el" href="preparser_8c.html#a4dee4c0e255f272ac7c80ad83363710e">playlist_preparser_Push()</a>, <a class="el" href="fetcher_8c.html#ab21eb56a8f0a0956eb6084dd1a000508">SearchByScope()</a>, and <a class="el" href="fetcher_8c.html#adf53a373584c2517356074e7e7736b62">SearchLocal()</a>.</p>

</div>
</div>
<a id="a2b9641f62659d36481ff9e6789462e99" name="a2b9641f62659d36481ff9e6789462e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9641f62659d36481ff9e6789462e99">&#9670;&#160;</a></span>background_worker_RequestProbe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void background_worker_RequestProbe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker.html">background_worker</a> *</td>          <td class="paramname"><span class="paramname"><em>worker</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the background-worker to probe the current task. </p>
<p>This function is used to signal the background-worker that it should do another probe to see whether the current task is still alive.</p>
<dl class="section warning"><dt>Warning</dt><dd>Note that the function will not wait for the probing to finish, it will simply ask the background worker to recheck it as soon as possible.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>the background-worker </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="structbackground__worker.html#a95e5413f35d1def15a41527e5cd52ffa">background_worker::probe_request</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="structbackground__worker.html#a6ee158532e39f52192fd9f47dd267dd1">background_worker::worker_wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="fetcher_8c.html#a32c7921ec2b914c2daed27c6be42eece">FetcherThread()</a>, and <a class="el" href="preparser_8c.html#a54334839a1d92aee31189bbc6142dea1">InputEvent()</a>.</p>

</div>
</div>
<a id="a6204a0f9b971b486b22e6122864e252f" name="a6204a0f9b971b486b22e6122864e252f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6204a0f9b971b486b22e6122864e252f">&#9670;&#160;</a></span>BackgroundWorkerCancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void BackgroundWorkerCancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbackground__worker.html">background_worker</a> *</td>          <td class="paramname"><span class="paramname"><em>worker</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structbackground__worker.html#a039bc281cab7c72e97ba1cbd97d69acd">background_worker::active</a>, <a class="el" href="structbackground__worker.html#aa5ccac9da389fd02967ccfab8d3d43f7">background_worker::conf</a>, <a class="el" href="structbackground__worker.html#aecd1f2566a4b8a72e14cf5dfb756e7b8">background_worker::data</a>, <a class="el" href="structbackground__worker.html#a13fa4651a59a01bcd1dc8ef2278bef2c">background_worker::deadline</a>, <a class="el" href="structbg__queued__item.html#ad50daaa9a3e0a86379650c24c721170b">bg_queued_item::entity</a>, <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbackground__worker.html#a0474395457a6b5e09968cd0142835214">background_worker::id</a>, <a class="el" href="structbg__queued__item.html#a6908c72e2b307adb095f5f0145e5f7ca">bg_queued_item::id</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="structbackground__worker__config.html#a6626ff4819ef4a459c18df53820e835b">background_worker_config::pf_release</a>, <a class="el" href="structbackground__worker.html#aac67f1efc70f3602a35cf92c2f8b6699">background_worker::tail</a>, <a class="el" href="vlc__arrays_8h.html#afad2dd9d8ad48ca62ec08084beef3dd3">vlc_array_count()</a>, <a class="el" href="vlc__arrays_8h.html#a7bcbdc6852680460dc7af24ce54a1a6e">vlc_array_item_at_index</a>, <a class="el" href="vlc__arrays_8h.html#a7caef981366fd8e6b6e734ecd5b3b7ca">vlc_array_remove()</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="group__thread.html#ga84dd904e84e0c782b42eec1d66fbbc6d">vlc_cond_wait()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, <a class="el" href="vlc__config_8h.html#a3c34c913609ec6ff3742ce0cb72d8af6">VLC_TS_0</a>, <a class="el" href="structbackground__worker.html#ae3cffb38796c9358867eecd4c5643bfc">background_worker::wait</a>, and <a class="el" href="structbackground__worker.html#a6ee158532e39f52192fd9f47dd267dd1">background_worker::worker_wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="#aab226d50486aad3e99fa642eee114213">background_worker_Cancel()</a>, and <a class="el" href="#a3602f506099cdef07ab6d93367292e1f">background_worker_Delete()</a>.</p>

</div>
</div>
<a id="a84d199c1187eedb17b230fb4cd2cd0d0" name="a84d199c1187eedb17b230fb4cd2cd0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d199c1187eedb17b230fb4cd2cd0d0">&#9670;&#160;</a></span>Thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * Thread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structbackground__worker.html#a039bc281cab7c72e97ba1cbd97d69acd">background_worker::active</a>, <a class="el" href="structbackground__worker.html#aa5ccac9da389fd02967ccfab8d3d43f7">background_worker::conf</a>, <a class="el" href="structbackground__worker.html#aecd1f2566a4b8a72e14cf5dfb756e7b8">background_worker::data</a>, <a class="el" href="structbackground__worker.html#a13fa4651a59a01bcd1dc8ef2278bef2c">background_worker::deadline</a>, <a class="el" href="structbg__queued__item.html#ad50daaa9a3e0a86379650c24c721170b">bg_queued_item::entity</a>, <a class="el" href="structbackground__worker.html#a277cde903a633cdd336e28588312ba94">background_worker::head</a>, <a class="el" href="structbackground__worker.html#a0474395457a6b5e09968cd0142835214">background_worker::id</a>, <a class="el" href="structbg__queued__item.html#a6908c72e2b307adb095f5f0145e5f7ca">bg_queued_item::id</a>, <a class="el" href="structbackground__worker.html#ae03bcc005a4ea6b200df6fbf44f68941">background_worker::lock</a>, <a class="el" href="group__thread.html#gaf7b20517f6c86597cb39d2d4385d18e9">mdate()</a>, <a class="el" href="structbackground__worker.html#af73b993643c5ee94fd743417668c5e4e">background_worker::owner</a>, <a class="el" href="structbackground__worker__config.html#ab6ade5a1e642d25f7dc5110564d5f681">background_worker_config::pf_probe</a>, <a class="el" href="structbackground__worker__config.html#a6626ff4819ef4a459c18df53820e835b">background_worker_config::pf_release</a>, <a class="el" href="structbackground__worker__config.html#a42d82a11200fdc02120200f9ac08a0e2">background_worker_config::pf_start</a>, <a class="el" href="structbackground__worker__config.html#a8d8152277f7e5c5a2058bd1604b8c34b">background_worker_config::pf_stop</a>, <a class="el" href="structbackground__worker.html#a95e5413f35d1def15a41527e5cd52ffa">background_worker::probe_request</a>, <a class="el" href="structbackground__worker.html#aac67f1efc70f3602a35cf92c2f8b6699">background_worker::tail</a>, <a class="el" href="structbg__queued__item.html#a15840f39942d85d41c3333771d834c64">bg_queued_item::timeout</a>, <a class="el" href="vlc__arrays_8h.html#afad2dd9d8ad48ca62ec08084beef3dd3">vlc_array_count()</a>, <a class="el" href="vlc__arrays_8h.html#a7bcbdc6852680460dc7af24ce54a1a6e">vlc_array_item_at_index</a>, <a class="el" href="vlc__arrays_8h.html#a7caef981366fd8e6b6e734ecd5b3b7ca">vlc_array_remove()</a>, <a class="el" href="group__thread.html#ga553dc87dc055e56b809103b1dafc261e">vlc_cond_broadcast()</a>, <a class="el" href="group__thread.html#ga354f2cde8e4e7d7df18947db943e57d2">vlc_cond_timedwait()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, <a class="el" href="vlc__config_8h.html#a3c34c913609ec6ff3742ce0cb72d8af6">VLC_TS_0</a>, <a class="el" href="structbackground__worker.html#ae3cffb38796c9358867eecd4c5643bfc">background_worker::wait</a>, and <a class="el" href="structbackground__worker.html#a6ee158532e39f52192fd9f47dd267dd1">background_worker::worker_wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="#afdefe032b4f0615f4e3aa9781f719f0a">background_worker_Push()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
