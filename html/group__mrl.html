<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VLC: Media Resource Locator (MRL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VLC<span id="projectnumber">&#160;3.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a>  </div>
  <div class="headertitle"><div class="title">Media Resource Locator (MRL)</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Media Resource Locator (MRL):</div>
<div class="dyncontent">
<div class="center"><img src="group__mrl.png" border="0" usemap="#agroup____mrl" alt=""/></div>
<map name="agroup____mrl" id="agroup____mrl">
<area shape="rect" title=" " alt="" coords="5,5,175,54"/>
<area shape="rect" href="group__mrl__helpers.html" title=" " alt="" coords="223,15,321,44"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mrl__helpers.html">MRL helpers</a></td></tr>
<tr class="memdesc:group__mrl__helpers"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The <em>MRL-specification</em> is a VLC intrinsic extension to <a href="https://tools.ietf.org/html/rfc3986">RFC3986</a>, providing means to associate extra media-related information within the <em>resource-identifier</em>.</p>
<dl class="section note"><dt>Note</dt><dd><em>MRLs</em> are only used when an item is to be played by <em>VLC</em>, through a direct (or indirect) call to <a class="el" href="vlc__input_8h.html#a725b8ec0aeb6b2d7557dd610947de5be">input_Create</a> and <a class="el" href="input_8c.html#adb9e5ec7d9b1b0c40a1e3d8cbe86b1f0">input_CreatePreparser</a>, which means that they are not handled by functions such as <a class="el" href="url_8c.html#ad3e24a448247a20546f291fd0336e093">vlc_UrlParse</a> and <a class="el" href="group__stream.html#gafe9dd5643b3b731555df86a6a1b879b1">vlc_stream_NewURL</a> (as implied by their names).</dd></dl>
<h1><a class="anchor" id="mrl_introduction"></a>
Introduction</h1>
<p>As an example, with the use of an <em>MRL</em> one can specify that a certain <a class="el" href="group__demux.html">Demultiplexer</a> is to be unconditionally used for a specific resource, such as in the below (forcing usage of <em>demuxdump</em>).</p>
<pre class="fragment">http/demuxdump://example.com/path/to/media</pre><p>There is also the possibility of specifying attributes related to the playback behavior of the referred to resource, such as what range of titles and chapters that are to be played.</p>
<pre class="fragment">http://example.com/media.mkv#0:1-1:5</pre><h1><a class="anchor" id="mrl_technical"></a>
Technical Information</h1>
<p>The overall specification in <a href="https://tools.ietf.org/html/rfc3986">RFC3986</a> are inherited by <em>MRLs</em>, though some entities have been redefined in order to provide support for additional <em>media-related</em> <em>information</em>, other entities (treated as arbitrary data in a <em>URI</em>) is explicitly defined to have special meaning within an <em>MRL</em>.</p>
<h2><a class="anchor" id="mrl_technical_scheme"></a>
3.1. Scheme</h2>
<p>In an <em>MRL</em>, what <a href="https://tools.ietf.org/html/rfc3986">RFC3986</a> refers to as <code>scheme</code> is allowed to contain a <em>forward-slash</em>, and if such is present, the data prior to the slash denotes the <em>scheme</em> (as originally defined by <em>RFC3986</em>), whereas the data that follows specifies a list of <a class="el" href="group__demux.html">demultiplexers</a> to probe when dealing with the resource. </p><pre class="fragment">mrl-scheme   = *( %x20-7E )
mrl-demux    = *( %x20-2B / %x2D-7E )
scheme       =/ ( mrl-scheme [ "/" mrl-demux ] )
</pre><ul>
<li>If the specified <a class="el" href="group__demux.html">Demultiplexer</a> specified in <code>mrl-demuxer</code> can't handle the resource, the media shall fail to open.</li>
</ul>
<h2><a class="anchor" id="mrl_technical_fragment"></a>
3.5. Fragment</h2>
<p><em>MRL</em> extends the <a href="https://tools.ietf.org/html/rfc5234">ABNF</a> for <em>fragment-data</em> as specified by <a href="https://tools.ietf.org/html/rfc3986">RFC3986</a> so that individual pieces can be identified within the payload.</p>
<pre class="fragment">mrlfrag-query     = query
mrlfrag-subdelims = "$" / "&amp;" / "'" / "(" / ")" / "*" / "+" /
                    "," / ";" / "=" / pct-encoded
mrlfrag-entity    = "!/" *( mrlfrag-subdelims )
fragment          =/ ( *( mrlfrag-entity ) [ "?" mrlfrag-query ] ) /
                    mrlfrag-query / mrl-section
</pre><h4>Generating <code>fragment</code> </h4>
<ol type="1">
<li>Start with an empty payload</li>
<li>For each subentry (from top to bottom)<ul>
<li>append <code>"!/"</code> to the payload</li>
<li>url-encode characters not matching <code>mrlfrag-subdelims</code></li>
<li>append the url-encoded data</li>
</ul>
</li>
<li>If the payload is not empty, and there is a <code>mrlfrag-query</code><ul>
<li>append "?" to the payload</li>
</ul>
</li>
<li>append the <code>mrlfrag-query</code> to the payload</li>
</ol>
<h4>Parsing <code>fragment</code></h4>
<ol type="1">
<li>If the payload begins with <code>"!/"</code><ul>
<li>skip the initial two characters</li>
<li>extract data up until the first occurance of either <code>?</code> or <code>!</code></li>
<li>url-decode the extracted data</li>
<li>the decoded data is a <code>mrlfrag-entity</code></li>
<li>goto step <code>1</code> with the data following the extracted data</li>
</ul>
</li>
<li>If the payload begins with <code>"?"</code><ul>
<li>skip the initial character</li>
</ul>
</li>
<li>the payload contains the <code>mrlfrag-query</code></li>
</ol>
<h3><a class="anchor" id="mrl_technical_fragment_query"></a>
Fragment Query</h3>
<p>Data within <code>fragment</code>, as defined by the previous section, can have special meaning if it matches the entities listed below (priority in order of appearance).</p>
<ul>
<li><h4><code>mrl-section</code></h4>
<pre class="fragment">mrl-title   = DIGIT *DIGIT
mrl-chapter = DIGIT *DIGIT
mrl-section = mrl-title [ ":" mrl-chapter ] [ "-" mrl-title [ ":" mrl-chapter ] ]
</pre><p> If the data contained in the <code>fragmentof</code> an <em>MRL</em> matches <code>mrl-section</code>, the data denotes the offset to start, and conditionally stop (if present), the resource during playback,</p>
<p><code>mrl-title</code> and <code>mrl-chapter</code> refers to the index of the <em>title</em> and <em>chapter</em>, respectively. Data before the optional hyphen denotes the starting position, and data following it, if any, denotes where to stop.</p>
<p>The range is specified as <code>[start,stop)</code>, meaning that playback will continue until <em>stop</em> has been reached, it does not include the contents of the entity referred to by <em>stop</em>.</p>
<p></p>
</li>
</ul>
<ul>
<li><h4><code>mrlfrag-query</code></h4>
<p></p>
<p>The data within the <code>mrlfrag-query</code> shall be <code>key=value</code> pairs, each delimited by an ampersand (this means that an ampersand in either <em>key</em> or <em>value</em> must be URL-encoded). <em>key-value</em> pairs not specified in the table below are ignored.</p>
<table class="doxtable">
<tr>
<td></td><th>Value </th><th>Description  </th></tr>
<tr>
<th>t </th><td>Integer </td><td>specifies where to start playback (in seconds)  </td></tr>
<tr>
<th>s </th><td>Integer </td><td>specifies where to stop playback (in seconds)  </td></tr>
</table>
<p></p>
</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
