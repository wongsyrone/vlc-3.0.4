<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VLC: src/misc/picture_pool.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VLC<span id="projectnumber">&#160;3.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_88826aa2a10e1882b573f502bc7f4b55.html">misc</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">picture_pool.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
Include dependency graph for picture_pool.c:</div>
<div class="dyncontent">
<div class="center"><img src="picture__pool_8c__incl.png" border="0" usemap="#asrc_2misc_2picture__pool_8c" alt=""/></div>
<map name="asrc_2misc_2picture__pool_8c" id="asrc_2misc_2picture__pool_8c">
<area shape="rect" title=" " alt="" coords="716,5,877,35"/>
<area shape="rect" title=" " alt="" coords="534,83,606,113"/>
<area shape="poly" title=" " alt="" coords="755,38,621,82,620,77,753,33"/>
<area shape="rect" title=" " alt="" coords="5,471,71,501"/>
<area shape="poly" title=" " alt="" coords="766,38,728,59,689,90,672,108,658,128,649,150,646,174,646,332,641,355,627,374,606,391,578,404,507,425,421,439,236,456,153,464,86,474,85,469,152,458,236,451,420,433,506,420,576,399,603,386,624,371,636,353,641,332,641,174,644,149,654,126,668,105,685,86,725,55,764,33"/>
<area shape="rect" title=" " alt="" coords="1785,471,1851,501"/>
<area shape="poly" title=" " alt="" coords="878,25,1093,43,1355,74,1477,94,1577,117,1616,130,1646,143,1666,158,1673,174,1673,332,1675,354,1683,374,1708,410,1742,439,1777,461,1774,466,1739,443,1704,413,1678,376,1670,355,1667,332,1667,175,1661,161,1643,148,1614,135,1576,122,1476,99,1355,79,1093,48,877,30"/>
<area shape="rect" href="vlc__common_8h.html" title="This file is a collection of common definitions and types." alt="" coords="889,394,998,423"/>
<area shape="poly" title=" " alt="" coords="773,38,746,58,721,85,708,107,701,127,697,174,697,254,701,283,714,308,733,330,758,348,816,376,875,393,873,398,814,381,755,353,730,334,710,311,696,285,691,255,691,174,695,125,703,105,717,81,742,54,770,33"/>
<area shape="rect" href="vlc__picture__pool_8h.html" title="This file defines picture pool structures and functions in vlc." alt="" coords="731,83,862,113"/>
<area shape="poly" title=" " alt="" coords="799,36,799,67,794,67,794,36"/>
<area shape="rect" href="vlc__atomic_8h.html" title="Atomic operations do not require locking, but they are not very powerful." alt="" coords="1171,161,1268,190"/>
<area shape="poly" title=" " alt="" coords="840,33,976,80,1170,152,1168,157,974,86,838,38"/>
<area shape="rect" href="picture_8h.html" title=" " alt="" coords="886,83,963,113"/>
<area shape="poly" title=" " alt="" coords="822,33,889,73,887,77,819,38"/>
<area shape="poly" title=" " alt="" coords="889,415,495,436,265,453,86,474,86,469,265,448,495,431,888,410"/>
<area shape="poly" title=" " alt="" coords="999,411,1409,440,1770,469,1769,475,1408,445,998,416"/>
<area shape="rect" href="vlc__config_8h.html" title="This file defines of values used in interface, vout, aout and vlc core functions." alt="" coords="1294,471,1387,501"/>
<area shape="poly" title=" " alt="" coords="999,418,1271,469,1279,471,1278,476,1269,474,998,423"/>
<area shape="rect" title=" " alt="" coords="1436,549,1509,579"/>
<area shape="poly" title=" " alt="" coords="999,412,1229,437,1339,453,1400,469,1420,483,1436,499,1461,534,1456,537,1432,503,1416,487,1398,474,1338,458,1228,443,998,418"/>
<area shape="rect" title=" " alt="" coords="1603,471,1673,501"/>
<area shape="poly" title=" " alt="" coords="999,411,1292,435,1458,451,1589,469,1588,474,1457,456,1291,440,998,416"/>
<area shape="rect" title=" " alt="" coords="1697,471,1760,501"/>
<area shape="poly" title=" " alt="" coords="999,411,1356,438,1550,454,1682,469,1682,474,1550,460,1356,443,998,416"/>
<area shape="rect" title=" " alt="" coords="95,471,178,501"/>
<area shape="poly" title=" " alt="" coords="888,416,545,439,348,456,194,474,193,469,348,451,545,434,888,410"/>
<area shape="rect" title=" " alt="" coords="202,471,274,501"/>
<area shape="poly" title=" " alt="" coords="888,414,633,430,464,448,290,474,289,468,464,442,633,425,888,409"/>
<area shape="rect" title=" " alt="" coords="298,471,378,501"/>
<area shape="poly" title=" " alt="" coords="889,416,675,435,537,451,393,474,392,468,536,446,675,429,888,411"/>
<area shape="rect" href="vlc__mtime_8h.html" title=" " alt="" coords="402,471,498,501"/>
<area shape="poly" title=" " alt="" coords="889,418,722,439,514,471,513,466,721,434,888,413"/>
<area shape="rect" href="vlc__threads_8h.html" title="Thread primitive declarations." alt="" coords="522,471,624,501"/>
<area shape="poly" title=" " alt="" coords="889,422,640,471,639,465,888,416"/>
<area shape="rect" href="vlc__arrays_8h.html" title="This file defines functions, structures and macros for handling arrays in vlc." alt="" coords="647,471,741,501"/>
<area shape="poly" title=" " alt="" coords="890,426,748,469,747,464,888,421"/>
<area shape="rect" href="vlc__messages_8h.html" title="Logging functions." alt="" coords="1462,471,1579,501"/>
<area shape="poly" title=" " alt="" coords="999,414,1190,436,1432,469,1447,471,1447,476,1431,474,1190,442,998,419"/>
<area shape="rect" href="vlc__objects_8h.html" title="Common VLC object defintions." alt="" coords="764,471,864,501"/>
<area shape="poly" title=" " alt="" coords="913,426,845,465,843,460,910,422"/>
<area shape="rect" href="vlc__variables_8h.html" title="VLC object variables and callbacks interface." alt="" coords="888,471,998,501"/>
<area shape="poly" title=" " alt="" coords="939,424,937,456,932,455,933,424"/>
<area shape="rect" href="vlc__main_8h.html" title="This file defines libvlc_int_t internal libvlc instance." alt="" coords="1022,471,1107,501"/>
<area shape="poly" title=" " alt="" coords="960,422,1023,461,1020,466,958,426"/>
<area shape="rect" href="vlc__configuration_8h.html" title="This file describes the programming interface for the configuration module." alt="" coords="1132,471,1269,501"/>
<area shape="poly" title=" " alt="" coords="985,421,1131,464,1130,469,984,426"/>
<area shape="poly" title=" " alt="" coords="1293,474,1013,423,1014,417,1294,469"/>
<area shape="poly" title=" " alt="" coords="497,474,522,469,712,438,873,416,873,422,713,443,522,474,498,479"/>
<area shape="poly" title=" " alt="" coords="624,474,647,469,873,423,874,428,648,474,625,479"/>
<area shape="rect" title=" " alt="" coords="537,549,608,579"/>
<area shape="poly" title=" " alt="" coords="575,502,575,533,570,533,570,502"/>
<area shape="rect" title=" " alt="" coords="633,549,715,579"/>
<area shape="poly" title=" " alt="" coords="593,499,645,537,641,542,590,504"/>
<area shape="rect" title=" " alt="" coords="409,549,512,579"/>
<area shape="poly" title=" " alt="" coords="553,504,496,542,493,538,550,499"/>
<area shape="poly" title=" " alt="" coords="740,470,889,426,890,431,742,475"/>
<area shape="poly" title=" " alt="" coords="1461,475,1455,474,1212,442,1013,419,1014,414,1213,436,1456,469,1462,470"/>
<area shape="poly" title=" " alt="" coords="1514,503,1492,537,1487,534,1509,500"/>
<area shape="poly" title=" " alt="" coords="844,468,912,430,915,434,847,473"/>
<area shape="poly" title=" " alt="" coords="948,471,949,439,955,439,953,471"/>
<area shape="poly" title=" " alt="" coords="1048,473,985,434,988,429,1051,469"/>
<area shape="poly" title=" " alt="" coords="1159,473,1012,430,1014,425,1160,468"/>
<area shape="rect" title=" " alt="" coords="1155,549,1246,579"/>
<area shape="poly" title=" " alt="" coords="1203,502,1203,533,1198,533,1198,502"/>
<area shape="poly" title=" " alt="" coords="795,114,785,156,778,217,778,250,783,283,792,315,807,344,820,360,837,372,875,391,873,395,834,377,817,364,802,347,787,317,777,284,773,250,773,216,780,155,790,112"/>
<area shape="rect" href="vlc__picture_8h.html" title="This file defines picture structures and functions in vlc." alt="" coords="829,161,927,190"/>
<area shape="poly" title=" " alt="" coords="814,111,853,148,850,152,810,115"/>
<area shape="poly" title=" " alt="" coords="868,192,846,222,824,261,817,282,813,304,815,325,823,344,846,369,876,386,873,391,843,373,818,347,810,326,808,304,811,281,819,259,841,219,863,189"/>
<area shape="rect" href="vlc__es_8h.html" title="This file defines the elementary streams format types." alt="" coords="973,238,1042,268"/>
<area shape="poly" title=" " alt="" coords="904,189,972,228,969,233,901,193"/>
<area shape="poly" title=" " alt="" coords="1033,266,1054,282,1073,301,1084,323,1084,335,1079,347,1066,363,1050,376,1014,394,1012,389,1047,371,1062,359,1074,344,1078,334,1078,325,1069,304,1050,286,1030,271"/>
<area shape="rect" href="vlc__fourcc_8h.html" title=" " alt="" coords="833,316,926,346"/>
<area shape="poly" title=" " alt="" coords="985,271,917,310,915,306,982,266"/>
<area shape="rect" href="vlc__text__style_8h.html" title=" " alt="" coords="950,316,1064,346"/>
<area shape="poly" title=" " alt="" coords="1010,269,1010,300,1005,300,1005,269"/>
<area shape="rect" href="vlc__viewpoint_8h.html" title="Video and audio viewpoint struct and helpers." alt="" coords="1140,316,1254,346"/>
<area shape="poly" title=" " alt="" coords="1043,266,1148,307,1146,312,1042,271"/>
<area shape="poly" title=" " alt="" coords="893,345,924,380,920,383,889,348"/>
<area shape="poly" title=" " alt="" coords="997,348,967,383,963,380,993,345"/>
<area shape="poly" title=" " alt="" coords="1150,349,1006,391,1004,386,1148,344"/>
<area shape="rect" title=" " alt="" coords="1164,394,1229,423"/>
<area shape="poly" title=" " alt="" coords="1199,346,1199,378,1194,378,1194,346"/>
<area shape="poly" title=" " alt="" coords="1233,189,1254,220,1274,261,1281,284,1283,306,1279,328,1268,347,1251,361,1226,372,1161,390,1085,400,1014,407,1014,401,1084,395,1160,384,1224,367,1248,357,1264,344,1274,326,1278,306,1276,285,1269,263,1249,223,1228,192"/>
<area shape="rect" title=" " alt="" coords="1329,238,1422,268"/>
<area shape="poly" title=" " alt="" coords="1250,189,1334,229,1331,234,1248,193"/>
<area shape="poly" title=" " alt="" coords="918,115,897,149,893,146,914,112"/>
<area shape="poly" title=" " alt="" coords="964,106,1157,155,1155,161,963,112"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aedd2af8d5756c2202fa665cfcf530647" id="r_aedd2af8d5756c2202fa665cfcf530647"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>&#160;&#160;&#160;(CHAR_BIT * sizeof (unsigned long long))</td></tr>
<tr class="separator:aedd2af8d5756c2202fa665cfcf530647"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab6f1228da4876d664daa4efaa5e336eb" id="r_ab6f1228da4876d664daa4efaa5e336eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6f1228da4876d664daa4efaa5e336eb">picture_pool_Destroy</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool)</td></tr>
<tr class="separator:ab6f1228da4876d664daa4efaa5e336eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34604de2cd14085959c31c830195c793" id="r_a34604de2cd14085959c31c830195c793"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34604de2cd14085959c31c830195c793">picture_pool_Release</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a34604de2cd14085959c31c830195c793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a pool created by <a class="el" href="vlc__picture__pool_8h.html#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a>, <a class="el" href="vlc__picture__pool_8h.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a> or <a class="el" href="vlc__picture__pool_8h.html#a320413f390cc7ffccbb3519ca70e4068" title="Allocates pictures from the heap and creates a picture pool with them.">picture_pool_NewFromFormat()</a>.  <br /></td></tr>
<tr class="separator:a34604de2cd14085959c31c830195c793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0f876527839875ec2484a8b5a10896" id="r_afa0f876527839875ec2484a8b5a10896"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture</a> (<a class="el" href="structpicture__t.html">picture_t</a> *clone)</td></tr>
<tr class="separator:afa0f876527839875ec2484a8b5a10896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfddae7656341c45ace90a268eb73b8" id="r_a7bfddae7656341c45ace90a268eb73b8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool, unsigned offset)</td></tr>
<tr class="separator:a7bfddae7656341c45ace90a268eb73b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23d3e8731ebc09898b0412f02b038e7" id="r_ab23d3e8731ebc09898b0412f02b038e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab23d3e8731ebc09898b0412f02b038e7">picture_pool_NewExtended</a> (const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *cfg)</td></tr>
<tr class="memdesc:ab23d3e8731ebc09898b0412f02b038e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a pool of preallocated pictures.  <br /></td></tr>
<tr class="separator:ab23d3e8731ebc09898b0412f02b038e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bd3db3fb71f6c9e13c88ed42d7e6bd" id="r_a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New</a> (unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="structpicture__t.html">picture_t</a> *const *tab)</td></tr>
<tr class="memdesc:a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a picture pool with pictures in a given array.  <br /></td></tr>
<tr class="separator:a96bd3db3fb71f6c9e13c88ed42d7e6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320413f390cc7ffccbb3519ca70e4068" id="r_a320413f390cc7ffccbb3519ca70e4068"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a320413f390cc7ffccbb3519ca70e4068">picture_pool_NewFromFormat</a> (const <a class="el" href="structvideo__format__t.html">video_format_t</a> *fmt, unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>)</td></tr>
<tr class="memdesc:a320413f390cc7ffccbb3519ca70e4068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates pictures from the heap and creates a picture pool with them.  <br /></td></tr>
<tr class="separator:a320413f390cc7ffccbb3519ca70e4068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ace4a70044f2690dbfd87cd68d7806" id="r_ac9ace4a70044f2690dbfd87cd68d7806"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9ace4a70044f2690dbfd87cd68d7806">picture_pool_Reserve</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *master, unsigned <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>)</td></tr>
<tr class="memdesc:ac9ace4a70044f2690dbfd87cd68d7806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves pictures from a pool and creates a new pool with those.  <br /></td></tr>
<tr class="separator:ac9ace4a70044f2690dbfd87cd68d7806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29e8bb60a2ed1e0ed72f00805a69936" id="r_ab29e8bb60a2ed1e0ed72f00805a69936"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab29e8bb60a2ed1e0ed72f00805a69936">fnsll</a> (unsigned long long x, unsigned i)</td></tr>
<tr class="memdesc:ab29e8bb60a2ed1e0ed72f00805a69936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find next (bit) set.  <br /></td></tr>
<tr class="separator:ab29e8bb60a2ed1e0ed72f00805a69936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bfd7a8bccc3c10fec048cb35522d0a" id="r_a78bfd7a8bccc3c10fec048cb35522d0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78bfd7a8bccc3c10fec048cb35522d0a">picture_pool_Get</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a78bfd7a8bccc3c10fec048cb35522d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a picture from a pool if any is immediately available.  <br /></td></tr>
<tr class="separator:a78bfd7a8bccc3c10fec048cb35522d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495351856ac50332143e8120529e891c" id="r_a495351856ac50332143e8120529e891c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpicture__t.html">picture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a495351856ac50332143e8120529e891c">picture_pool_Wait</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool)</td></tr>
<tr class="memdesc:a495351856ac50332143e8120529e891c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a picture from a pool.  <br /></td></tr>
<tr class="separator:a495351856ac50332143e8120529e891c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cee8bd7ff84c8ae5eaff42890405b24" id="r_a6cee8bd7ff84c8ae5eaff42890405b24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cee8bd7ff84c8ae5eaff42890405b24">picture_pool_Cancel</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool, bool canceled)</td></tr>
<tr class="memdesc:a6cee8bd7ff84c8ae5eaff42890405b24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the picture pool.  <br /></td></tr>
<tr class="separator:a6cee8bd7ff84c8ae5eaff42890405b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac2c72616e8a4f13b754cbf6e2bd9d3" id="r_a1ac2c72616e8a4f13b754cbf6e2bd9d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ac2c72616e8a4f13b754cbf6e2bd9d3">picture_pool_OwnsPic</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool, <a class="el" href="structpicture__t.html">picture_t</a> *pic)</td></tr>
<tr class="memdesc:a1ac2c72616e8a4f13b754cbf6e2bd9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a picture belongs to the picture pool.  <br /></td></tr>
<tr class="separator:a1ac2c72616e8a4f13b754cbf6e2bd9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2f492c2af1144ba0fdf61de0fa5c88" id="r_a7f2f492c2af1144ba0fdf61de0fa5c88"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f2f492c2af1144ba0fdf61de0fa5c88">picture_pool_GetSize</a> (const <a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool)</td></tr>
<tr class="separator:a7f2f492c2af1144ba0fdf61de0fa5c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58525eb8ebd029b9edc3c09458af454" id="r_ae58525eb8ebd029b9edc3c09458af454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae58525eb8ebd029b9edc3c09458af454">picture_pool_Enum</a> (<a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *pool, void(*cb)(void *, <a class="el" href="structpicture__t.html">picture_t</a> *), void *opaque)</td></tr>
<tr class="memdesc:ae58525eb8ebd029b9edc3c09458af454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates all pictures in a pool, both free and allocated.  <br /></td></tr>
<tr class="separator:ae58525eb8ebd029b9edc3c09458af454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aedd2af8d5756c2202fa665cfcf530647" name="aedd2af8d5756c2202fa665cfcf530647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd2af8d5756c2202fa665cfcf530647">&#9670;&#160;</a></span>POOL_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POOL_MAX&#160;&#160;&#160;(CHAR_BIT * sizeof (unsigned long long))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#ab23d3e8731ebc09898b0412f02b038e7">picture_pool_NewExtended()</a>, <a class="el" href="#a1ac2c72616e8a4f13b754cbf6e2bd9d3">picture_pool_OwnsPic()</a>, and <a class="el" href="#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab29e8bb60a2ed1e0ed72f00805a69936" name="ab29e8bb60a2ed1e0ed72f00805a69936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29e8bb60a2ed1e0ed72f00805a69936">&#9670;&#160;</a></span>fnsll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fnsll </td>
          <td>(</td>
          <td class="paramtype">unsigned long long</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find next (bit) set. </p>

<p class="reference">References <a class="el" href="vlc__fixups_8h.html#a33f2d2db9552867529751e1d39cac02e">ffsll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a78bfd7a8bccc3c10fec048cb35522d0a">picture_pool_Get()</a>.</p>

</div>
</div>
<a id="a6cee8bd7ff84c8ae5eaff42890405b24" name="a6cee8bd7ff84c8ae5eaff42890405b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cee8bd7ff84c8ae5eaff42890405b24">&#9670;&#160;</a></span>picture_pool_Cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>canceled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the picture pool. </p>
<p>It won't return any pictures via picture_pool_Get or picture_pool_Wait if canceled is true. This function will also unblock picture_pool_Wait. picture_pool_Reset will also reset the cancel state to false. </p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#ga553dc87dc055e56b809103b1dafc261e">vlc_cond_broadcast()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="video__output_8c.html#a1c7ea29947a233690d7dce433bf2523f">ThreadCancel()</a>.</p>

</div>
</div>
<a id="a7bfddae7656341c45ace90a268eb73b8" name="a7bfddae7656341c45ace90a268eb73b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfddae7656341c45ace90a268eb73b8">&#9670;&#160;</a></span>picture_pool_ClonePicture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structpicture__t.html">picture_t</a> * picture_pool_ClonePicture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structpicture__t.html#a72ac7f1bbca75864dbcd39f4125639de">picture_t::format</a>, <a class="el" href="structpicture__resource__t.html#a8b04406948f820333f4fce402bda16eb">picture_resource_t::i_lines</a>, <a class="el" href="structplane__t.html#a2479d8e56a8901e13eaf2aa201fd3a17">plane_t::i_lines</a>, <a class="el" href="structpicture__resource__t.html#a13811e283a6f14aae70b4bc8712f7836">picture_resource_t::i_pitch</a>, <a class="el" href="structplane__t.html#ad583ae84ac5172b4c0e1e0e5068b16eb">plane_t::i_pitch</a>, <a class="el" href="structpicture__t.html#a12306fa911b2406709ae39a3c1cd8564">picture_t::i_planes</a>, <a class="el" href="vlc__common_8h.html#ab21d72efaa91b8628bd6f04f63f0c248">likely</a>, <a class="el" href="structpicture__resource__t.html#aadd83c6e80a5240710e28fe2b33ca0f2">picture_resource_t::p</a>, <a class="el" href="structpicture__t.html#a47c3095f153430258c8d3d9ce23f33ff">picture_t::p</a>, <a class="el" href="structpicture__resource__t.html#a61b7c5e186ccff8c93114356fc71a1a7">picture_resource_t::p_pixels</a>, <a class="el" href="structplane__t.html#a95aba7322ec8203d7d0975d6b31b4985">plane_t::p_pixels</a>, <a class="el" href="structpicture__resource__t.html#a16f79ceb9dbc729631acf9d10108cf14">picture_resource_t::p_sys</a>, <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01">picture_t::p_sys</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="picture_8c.html#a7597f1e9f823a2a63e657bc38f9da373">picture_Hold()</a>, <a class="el" href="picture_8c.html#af8e10eef1dcd35e5f692641ee8665949">picture_NewFromResource()</a>, and <a class="el" href="#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a78bfd7a8bccc3c10fec048cb35522d0a">picture_pool_Get()</a>, and <a class="el" href="#a495351856ac50332143e8120529e891c">picture_pool_Wait()</a>.</p>

</div>
</div>
<a id="ab6f1228da4876d664daa4efaa5e336eb" name="ab6f1228da4876d664daa4efaa5e336eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f1228da4876d664daa4efaa5e336eb">&#9670;&#160;</a></span>picture_pool_Destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void picture_pool_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="vlc__fixups_8h.html#af3c6bc1b13b064902045b6ad605f2aaa">aligned_free</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#ga31e9453c8b43458f27456906fab5dd39">vlc_cond_destroy()</a>, <a class="el" href="group__thread.html#gab366d67deeff625a181455e69ab5d937">vlc_mutex_destroy()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a34604de2cd14085959c31c830195c793">picture_pool_Release()</a>, and <a class="el" href="#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture()</a>.</p>

</div>
</div>
<a id="ae58525eb8ebd029b9edc3c09458af454" name="ae58525eb8ebd029b9edc3c09458af454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58525eb8ebd029b9edc3c09458af454">&#9670;&#160;</a></span>picture_pool_Enum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Enum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>cb&#160;</em></span>)(void *, <a class="el" href="structpicture__t.html">picture_t</a> *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates all pictures in a pool, both free and allocated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>callback to invoke once for each picture </td></tr>
    <tr><td class="paramname">data</td><td>opaque data parameter for the callback (first argument)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Allocated pictures may be accessed asynchronously by other threads. Therefore, only read-only picture parameters can be read by the callback, typically <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01" title="Private data - the video output plugin might want to put stuff here to keep track of the picture.">picture_t.p_sys</a>. Provided those rules are respected, the function is thread-safe. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, and <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>.</p>

</div>
</div>
<a id="a78bfd7a8bccc3c10fec048cb35522d0a" name="a78bfd7a8bccc3c10fec048cb35522d0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78bfd7a8bccc3c10fec048cb35522d0a">&#9670;&#160;</a></span>picture_pool_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__t.html">picture_t</a> * picture_pool_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a picture from a pool if any is immediately available. </p>
<p>The picture must be released with <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>a picture, or NULL if all pictures in the pool are allocated</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>
<p>&lt; No error</p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="vlc__fixups_8h.html#a33f2d2db9552867529751e1d39cac02e">ffsll()</a>, <a class="el" href="#ab29e8bb60a2ed1e0ed72f00805a69936">fnsll()</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__t.html#a24e14541fe992251a5f88a0f2dae9c7d">picture_t::p_next</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture()</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="vlc__common_8h.html#af24cdfbdddcc5d1a33d9c9f601323f17">VLC_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ac9ace4a70044f2690dbfd87cd68d7806">picture_pool_Reserve()</a>, <a class="el" href="display_8c.html#aa526a18d39fffdbe6e4db00b769a0696">SplitterPictureNew()</a>, <a class="el" href="video__output_8c.html#a520d057cae37a22942a35d19999939cd">ThreadDisplayRenderPicture()</a>, <a class="el" href="display_8c.html#a7d8131999609e009d17221394b3606e3">VideoBufferNew()</a>, and <a class="el" href="video__output_8c.html#a16393f6d12e29eda6468b27840e23396">VoutVideoFilterInteractiveNewPicture()</a>.</p>

</div>
</div>
<a id="a7f2f492c2af1144ba0fdf61de0fa5c88" name="a7f2f492c2af1144ba0fdf61de0fa5c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2f492c2af1144ba0fdf61de0fa5c88">&#9670;&#160;</a></span>picture_pool_GetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned picture_pool_GetSize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the total number of pictures in the given pool </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a96bd3db3fb71f6c9e13c88ed42d7e6bd" name="a96bd3db3fb71f6c9e13c88ed42d7e6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">&#9670;&#160;</a></span>picture_pool_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_New </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *const *</td>          <td class="paramname"><span class="paramname"><em>tab</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a picture pool with pictures in a given array. </p>
<p>This is a convenience wrapper for <a class="el" href="vlc__picture__pool_8h.html#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a> without the lock and unlock callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of pictures in the array </td></tr>
    <tr><td class="paramname">tab</td><td>array of pictures</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the new pool on success, or NULL on error (pictures are <b>not</b> released on error) </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="structpicture__pool__configuration__t.html#a379b7301ba3b80d2ab741fe9a7cfb2b7">picture_pool_configuration_t::picture_count</a>, and <a class="el" href="#ab23d3e8731ebc09898b0412f02b038e7">picture_pool_NewExtended()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a320413f390cc7ffccbb3519ca70e4068">picture_pool_NewFromFormat()</a>, and <a class="el" href="#ac9ace4a70044f2690dbfd87cd68d7806">picture_pool_Reserve()</a>.</p>

</div>
</div>
<a id="ab23d3e8731ebc09898b0412f02b038e7" name="ab23d3e8731ebc09898b0412f02b038e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23d3e8731ebc09898b0412f02b038e7">&#9670;&#160;</a></span>picture_pool_NewExtended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_NewExtended </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpicture__pool__configuration__t.html">picture_pool_configuration_t</a> *</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a pool of preallocated pictures. </p>
<p>Free pictures can be allocated from the pool, and are returned to the pool when they are no longer referenced.</p>
<p>This avoids allocating and deallocationg pictures repeatedly, and ensures that memory consumption remains within limits.</p>
<p>To obtain a picture from the pool, use <a class="el" href="vlc__picture__pool_8h.html#a65374bac3c7cb41ac5badeb384ec5379" title="Obtains a picture from a pool if any is immediately available.">picture_pool_Get()</a>. To increase and decrease the reference count, use <a class="el" href="picture_8c.html#a7597f1e9f823a2a63e657bc38f9da373" title="This function will increase the picture reference count.">picture_Hold()</a> and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a> respectively.</p>
<p>If defined, <a class="el" href="structpicture__pool__configuration__t.html#a4a7ac75b2337e3a9504d49f059de220a">picture_pool_configuration_t::lock</a> will be called before a picture is used, and <a class="el" href="structpicture__pool__configuration__t.html#a4b6456dc6cac37e51e3caa9982c7cbb5">picture_pool_configuration_t::unlock</a> will be called as soon as a picture is returned to the pool. Those callbacks can modify <a class="el" href="structpicture__t.html#a47c3095f153430258c8d3d9ce23f33ff" title="description of the planes">picture_t::p</a> and access <a class="el" href="structpicture__t.html#a142c5b32188e3c5f5ba11612ddb92f01" title="Private data - the video output plugin might want to put stuff here to keep track of the picture.">picture_t::p_sys</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new pool on success, or NULL on error (pictures are <b>not</b> released on error). </dd></dl>

<p class="reference">References <a class="el" href="vlc__fixups_8h.html#a156a1e11400cb25e0690e3dddf6c19d5">aligned_alloc()</a>, <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="structpicture__pool__configuration__t.html#a4a7ac75b2337e3a9504d49f059de220a">picture_pool_configuration_t::lock</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#aa81efdb4ba1d341681ec0c31e5613a47">picture_pool_t::pic_unlock</a>, <a class="el" href="structpicture__pool__configuration__t.html#a2f3cdcf1271962b6835f52b81dba7c9c">picture_pool_configuration_t::picture</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="structpicture__pool__configuration__t.html#a379b7301ba3b80d2ab741fe9a7cfb2b7">picture_pool_configuration_t::picture_count</a>, <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>, <a class="el" href="#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="vlc__common_8h.html#a1728ccf7d6547a32d7b2fc7451256907">unlikely</a>, <a class="el" href="structpicture__pool__configuration__t.html#a4b6456dc6cac37e51e3caa9982c7cbb5">picture_pool_configuration_t::unlock</a>, <a class="el" href="group__thread.html#gaf841230035a2d6298723a0284a7bdad3">vlc_cond_init()</a>, <a class="el" href="group__thread.html#ga7edbc0a9ad929f838dd426f84ff10c2c">vlc_mutex_init()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>.</p>

</div>
</div>
<a id="a320413f390cc7ffccbb3519ca70e4068" name="a320413f390cc7ffccbb3519ca70e4068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320413f390cc7ffccbb3519ca70e4068">&#9670;&#160;</a></span>picture_pool_NewFromFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_NewFromFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvideo__format__t.html">video_format_t</a> *</td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates pictures from the heap and creates a picture pool with them. </p>
<p>This is a convenience wrapper for <a class="el" href="picture_8c.html#a0de814d48fb14fac5c0d6ab6399cdb75" title="This function will create a new picture using the given format.">picture_NewFromFormat()</a> and <a class="el" href="vlc__picture__pool_8h.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt</td><td>video format of pictures to allocate from the heap </td></tr>
    <tr><td class="paramname">count</td><td>number of pictures to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the new pool on success, NULL on error </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="picture_8c.html#a0de814d48fb14fac5c0d6ab6399cdb75">picture_NewFromFormat()</a>, <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="display_8c.html#aec15196616bd1ec61c28d3d6ad752b48">SplitterPool()</a>, and <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a1ac2c72616e8a4f13b754cbf6e2bd9d3" name="a1ac2c72616e8a4f13b754cbf6e2bd9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac2c72616e8a4f13b754cbf6e2bd9d3">&#9670;&#160;</a></span>picture_pool_OwnsPic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool picture_pool_OwnsPic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pic</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a picture belongs to the picture pool. </p>
<p>FIXME: remove this function when the <a class="el" href="group__video__output.html#gaef1dacadc272b4c85d6c295ffe4c8acf" title="It gives to the vout a picture to be displayed.">vout_PutPicture()</a> hack is fixed. </p>

<p class="reference">References <a class="el" href="structpicture__priv__t.html#aa7a61359fae61152aa5dd496d3c3f93d">picture_priv_t::destroy</a>, <a class="el" href="structpicture__priv__t.html#af4986fe596727bc0365893ee7fc53584">picture_priv_t::gc</a>, <a class="el" href="structpicture__priv__t.html#aa137bd625841d386b65f4ae5e49f38be">picture_priv_t::opaque</a>, <a class="el" href="#afa0f876527839875ec2484a8b5a10896">picture_pool_ReleasePicture()</a>, and <a class="el" href="#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__video__output.html#gaef1dacadc272b4c85d6c295ffe4c8acf">vout_PutPicture()</a>.</p>

</div>
</div>
<a id="a34604de2cd14085959c31c830195c793" name="a34604de2cd14085959c31c830195c793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34604de2cd14085959c31c830195c793">&#9670;&#160;</a></span>picture_pool_Release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void picture_pool_Release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases a pool created by <a class="el" href="vlc__picture__pool_8h.html#a654edda9f28d13252dc70d161ba475bb" title="Creates a pool of preallocated pictures.">picture_pool_NewExtended()</a>, <a class="el" href="vlc__picture__pool_8h.html#a96bd3db3fb71f6c9e13c88ed42d7e6bd" title="Creates a picture pool with pictures in a given array.">picture_pool_New()</a> or <a class="el" href="vlc__picture__pool_8h.html#a320413f390cc7ffccbb3519ca70e4068" title="Allocates pictures from the heap and creates a picture pool with them.">picture_pool_NewFromFormat()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>If there are no pending references to the pooled pictures, and the <a class="el" href="structpicture__resource__t.html#ae77270975209503aa8370b957a18c1b8">picture_resource_t.pf_destroy</a> callback was not NULL, it will be invoked. Otherwise the default callback will be used.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If there are pending references (a.k.a. late pictures), the pictures will remain valid until the all pending references are dropped by <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>. </dd></dl>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="structpicture__pool__t.html#aace5616b220975a9b645a90033dbd2cf">picture_pool_t::picture_count</a>, <a class="el" href="#ab6f1228da4876d664daa4efaa5e336eb">picture_pool_Destroy()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="display_8c.html#a3de219811e31c78c111210e1db8249ed">SplitterClose()</a>, <a class="el" href="vout__internal_8h.html#a0e8f7b3953440dd212e4c2815decd1e8">vout_EndWrapper()</a>, and <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="afa0f876527839875ec2484a8b5a10896" name="afa0f876527839875ec2484a8b5a10896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0f876527839875ec2484a8b5a10896">&#9670;&#160;</a></span>picture_pool_ReleasePicture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void picture_pool_ReleasePicture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__t.html">picture_t</a> *</td>          <td class="paramname"><span class="paramname"><em>clone</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__priv__t.html#af4986fe596727bc0365893ee7fc53584">picture_priv_t::gc</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__priv__t.html#aa137bd625841d386b65f4ae5e49f38be">picture_priv_t::opaque</a>, <a class="el" href="structpicture__pool__t.html#aa81efdb4ba1d341681ec0c31e5613a47">picture_pool_t::pic_unlock</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="#ab6f1228da4876d664daa4efaa5e336eb">picture_pool_Destroy()</a>, <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>, <a class="el" href="#aedd2af8d5756c2202fa665cfcf530647">POOL_MAX</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture()</a>, and <a class="el" href="#a1ac2c72616e8a4f13b754cbf6e2bd9d3">picture_pool_OwnsPic()</a>.</p>

</div>
</div>
<a id="ac9ace4a70044f2690dbfd87cd68d7806" name="ac9ace4a70044f2690dbfd87cd68d7806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ace4a70044f2690dbfd87cd68d7806">&#9670;&#160;</a></span>picture_pool_Reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> * picture_pool_Reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>master</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserves pictures from a pool and creates a new pool with those. </p>
<p>When the new pool is released, pictures are returned to the master pool. If the master pool was already released, pictures will be destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of picture to reserve</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new pool, or NULL if there were not enough pictures available or on error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe (but it might return NULL if other threads have already allocated too many pictures). </dd></dl>

<p class="reference">References <a class="el" href="core_8c.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>, <a class="el" href="#a78bfd7a8bccc3c10fec048cb35522d0a">picture_pool_Get()</a>, <a class="el" href="#a96bd3db3fb71f6c9e13c88ed42d7e6bd">picture_pool_New()</a>, and <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b">picture_Release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vout__internal_8h.html#a42da15aafea20c158cbb4fa772b234ef">vout_InitWrapper()</a>.</p>

</div>
</div>
<a id="a495351856ac50332143e8120529e891c" name="a495351856ac50332143e8120529e891c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495351856ac50332143e8120529e891c">&#9670;&#160;</a></span>picture_pool_Wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpicture__t.html">picture_t</a> * picture_pool_Wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpicture__pool__t.html">picture_pool_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a picture from a pool. </p>
<p>The picture must be released with <a class="el" href="picture_8c.html#aa4c9e63fc47b4d5a7472998663ba737b" title="This function will release a picture.">picture_Release()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>a picture or NULL on memory error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>
<p>&lt; No error</p>

<p class="reference">References <a class="el" href="structpicture__pool__t.html#a78ee49eda9aa1fb76be842083d132a9c">picture_pool_t::available</a>, <a class="el" href="structpicture__pool__t.html#a7216b9667d6eacb1871df8685ba05867">picture_pool_t::canceled</a>, <a class="el" href="vlc__fixups_8h.html#a33f2d2db9552867529751e1d39cac02e">ffsll()</a>, <a class="el" href="structpicture__pool__t.html#aa4c1cd9256486a0636d5b044afe2acad">picture_pool_t::lock</a>, <a class="el" href="structpicture__t.html#a24e14541fe992251a5f88a0f2dae9c7d">picture_t::p_next</a>, <a class="el" href="structpicture__pool__t.html#a8827fc984142e457aa9c9051ed9c536e">picture_pool_t::pic_lock</a>, <a class="el" href="structpicture__pool__t.html#a80aaab35df26ba6a1de01268b7c4f9a6">picture_pool_t::picture</a>, <a class="el" href="#a7bfddae7656341c45ace90a268eb73b8">picture_pool_ClonePicture()</a>, <a class="el" href="structpicture__pool__t.html#a15e06745a89d562ade36eaa1684029c6">picture_pool_t::refs</a>, <a class="el" href="group__thread.html#ga28ea10ef76d473ab24eaf650f7e29295">vlc_cond_signal()</a>, <a class="el" href="group__thread.html#ga84dd904e84e0c782b42eec1d66fbbc6d">vlc_cond_wait()</a>, <a class="el" href="group__thread.html#gaca6155393b0f70bcbd5081fe68e38cfa">vlc_mutex_lock()</a>, <a class="el" href="group__thread.html#ga3c16fc308344e1ab550304798f60d4cb">vlc_mutex_unlock()</a>, <a class="el" href="vlc__common_8h.html#af24cdfbdddcc5d1a33d9c9f601323f17">VLC_SUCCESS</a>, and <a class="el" href="structpicture__pool__t.html#ab8f968bc79ffb41b36458b576cef91ed">picture_pool_t::wait</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__video__output.html#ga0f32f16cb18384ae5212e8c2abd1c7c8">vout_GetPicture()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
